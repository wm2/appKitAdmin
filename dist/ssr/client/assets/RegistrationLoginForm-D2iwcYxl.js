import{g as B,r as M,U as V,V as A,a2 as P,k as R,i as z,j as O,an as q,O as S,a1 as I,b3 as $,br as j,bw as w,d as D,c as k,o as E,y as L,e as N,B as Q,x as K,bx as F,a as T}from"./index-CXeQdQLH.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te="M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM255.66 384c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 00.14-2.94L93.5 161.38a2 2 0 00-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0075.8-12.58 2 2 0 00.77-3.31l-21.58-21.58a4 4 0 00-3.83-1 204.8 204.8 0 01-51.16 6.47zM490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 00-74.89 12.83 2 2 0 00-.75 3.31l21.55 21.55a4 4 0 003.88 1 192.82 192.82 0 0150.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 010 .16 310.72 310.72 0 01-64.12 72.73 2 2 0 00-.15 2.95l19.9 19.89a2 2 0 002.7.13 343.49 343.49 0 0068.64-78.48 32.2 32.2 0 00-.1-34.78zM256 160a95.88 95.88 0 00-21.37 2.4 2 2 0 00-1 3.38l112.59 112.56a2 2 0 003.38-1A96 96 0 00256 160zM165.78 233.66a2 2 0 00-3.38 1 96 96 0 00115 115 2 2 0 001-3.38z|0 0 512 512",oe="M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z@@fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:32;&&M256 256 m-80, 0 a80,80 0 1,0 160,0 a80,80 0 1,0 -160,0@@fill:none;stroke:currentColor;stroke-miterlimit:10;stroke-width:32;|0 0 512 512",G=B({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(a,{slots:l,emit:i}){const d=R(),r=M(null);let c=0;const u=[];function v(e){const s=typeof e=="boolean"?e:a.noErrorFocus!==!0,m=++c,_=(t,o)=>{i(`validation${t===!0?"Success":"Error"}`,o)},g=t=>{const o=t.validate();return typeof o.then=="function"?o.then(n=>({valid:n,comp:t}),n=>({valid:!1,comp:t,err:n})):Promise.resolve({valid:o,comp:t})};return(a.greedy===!0?Promise.all(u.map(g)).then(t=>t.filter(o=>o.valid!==!0)):u.reduce((t,o)=>t.then(()=>g(o).then(n=>{if(n.valid===!1)return Promise.reject(n)})),Promise.resolve()).catch(t=>[t])).then(t=>{if(t===void 0||t.length===0)return m===c&&_(!0),!0;if(m===c){const{comp:o,err:n}=t[0];if(n!==void 0&&console.error(n),_(!1,o),s===!0){const x=t.find(({comp:C})=>typeof C.focus=="function"&&q(C.$)===!1);x!==void 0&&x.comp.focus()}}return!1})}function b(){c++,u.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function y(e){e!==void 0&&S(e);const s=c+1;v().then(m=>{s===c&&m===!0&&(a.onSubmit!==void 0?i("submit",e):e?.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function p(e){e!==void 0&&S(e),i("reset"),I(()=>{b(),a.autofocus===!0&&a.noResetFocus!==!0&&f()})}function f(){$(()=>{if(r.value===null)return;(r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),s=>s.tabIndex!==-1))?.focus({preventScroll:!0})})}j(w,{bindComponent(e){u.push(e)},unbindComponent(e){const s=u.indexOf(e);s!==-1&&u.splice(s,1)}});let h=!1;return V(()=>{h=!0}),A(()=>{h===!0&&a.autofocus===!0&&f()}),P(()=>{a.autofocus===!0&&f()}),Object.assign(d.proxy,{validate:v,resetValidation:b,submit:y,reset:p,focus:f,getValidationComponents:()=>u}),()=>z("form",{class:"q-form",ref:r,onSubmit:y,onReset:p},O(l.default))}}),H={class:"form"},J={key:0,class:"form__header"},W={class:"form__footer"},X=D({__name:"RegistrationLoginForm",props:{title:{default:""}},emits:["submit"],setup(a){const l=a;return(i,d)=>(E(),k("div",H,[l.title?(E(),k("div",J,Q(l.title),1)):L("",!0),N(G,{class:"form__body",onSubmit:d[0]||(d[0]=r=>i.$emit("submit",r))},{default:K(()=>[F(i.$slots,"body",{},void 0,!0),T("div",W,[F(i.$slots,"footer",{},void 0,!0)])]),_:3})]))}}),ae=U(X,[["__scopeId","data-v-faa07daa"]]);export{ae as R,oe as a,te as i};
