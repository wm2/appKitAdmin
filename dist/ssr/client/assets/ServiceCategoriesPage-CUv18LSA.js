import{g as Be,h as F,i as S,j as Ze,ac as it,aE as rt,f as Q,aF as ot,C as et,aG as st,aH as ut,a5 as H,aI as dt,aJ as ct,aK as ft,P as vt,k as mt,R as gt,r as K,aL as bt,w as Me,a1 as yt,aM as _t,am as tt,au as lt,O as Oe,D as Le,aN as ht,ai as Ue,d as pt,a2 as kt,v as I,o as _,x as n,a as f,c as U,y as C,e as l,z as B,A as c,B as b,ao as ye,ap as re,aq as qe,ar as Ae,a9 as je,aa as Re,as as ne,at as He,av as Ye,aw as Ge,aC as xt,aD as Ct,ax as wt,ay as We,az as Je}from"./index-CXeQdQLH.js";import{a as at,u as qt,Q as W,e as Ie,b as St,c as Se,d as Bt,g as zt,C as Xe,f as Vt}from"./date-CyQUtB3O.js";import{Q as oe,d as ee,e as Y,f as L,a as Tt}from"./usePagination-CH_YJQGk.js";import{Q as $t}from"./QPage-7ngJVt63.js";import{u as Dt}from"./service-categories.store-BIxl3Jgj.js";import{_ as Qt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const At=Be({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(a,{slots:d}){const v=F(()=>{const N=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(A=>a[A]===!0).map(A=>`q-btn-group--${A}`).join(" ");return`q-btn-group row no-wrap${N.length!==0?" "+N:""}`+(a.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:v.value},Ze(d.default))}}),Et=Be({name:"QBtnToggle",props:{...it,modelValue:{required:!0},options:{type:Array,required:!0,validator:a=>a.every(d=>("label"in d||"icon"in d||"slot"in d)&&"value"in d)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(a,{slots:d,emit:v}){const N=F(()=>a.options.find(z=>z.value===a.modelValue)!==void 0),A=F(()=>({type:"hidden",name:a.name,value:a.modelValue})),j=ot(A),y=F(()=>rt(a)),T=F(()=>({rounded:a.rounded,dense:a.dense,...y.value})),m=F(()=>a.options.map((z,$)=>{const{attrs:h,value:G,slot:le,...q}=z;return{slot:le,props:{key:$,"aria-pressed":G===a.modelValue?"true":"false",...h,...q,...T.value,disable:a.disable===!0||q.disable===!0,color:G===a.modelValue?k(q,"toggleColor"):k(q,"color"),textColor:G===a.modelValue?k(q,"toggleTextColor"):k(q,"textColor"),noCaps:k(q,"noCaps")===!0,noWrap:k(q,"noWrap")===!0,size:k(q,"size"),padding:k(q,"padding"),ripple:k(q,"ripple"),stack:k(q,"stack")===!0,stretch:k(q,"stretch")===!0,onClick(M){J(G,z,M)}}}}));function J(z,$,h){a.readonly!==!0&&(a.modelValue===z?a.clearable===!0&&(v("update:modelValue",null,null),v("clear")):v("update:modelValue",z,$),v("click",h))}function k(z,$){return z[$]===void 0?a[$]:z[$]}function R(){const z=m.value.map($=>S(Q,$.props,$.slot!==void 0?d[$.slot]:void 0));return a.name!==void 0&&a.disable!==!0&&N.value===!0&&j(z,"push"),et(d.default,z)}return()=>S(At,{class:"q-btn-toggle",...y.value,rounded:a.rounded,stretch:a.stretch,glossy:a.glossy,spread:a.spread},R)}}),Kt=Be({name:"QBreadcrumbsEl",props:{...st,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(a,{slots:d}){const{linkTag:v,linkAttrs:N,linkClass:A,navigateOnClick:j}=ut(),y=F(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(a.disable!==!0?"q-link--focusable"+A.value:"q-breadcrumbs__el--disable"),...N.value,onClick:j})),T=F(()=>"q-breadcrumbs__el-icon"+(a.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const m=[];return a.icon!==void 0&&m.push(S(H,{class:T.value,name:a.icon})),a.label!==void 0&&m.push(a.label),S(v.value,{...y.value},et(d.default,m))}}}),Pt=["",!0],It=Be({name:"QBreadcrumbs",props:{...dt,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:a=>["none","xs","sm","md","lg","xl"].includes(a),default:"sm"}},setup(a,{slots:d}){const v=ct(a),N=F(()=>`flex items-center ${v.value}${a.gutter==="none"?"":` q-gutter-${a.gutter}`}`),A=F(()=>a.separatorColor?` text-${a.separatorColor}`:""),j=F(()=>` text-${a.activeColor}`);return()=>{if(d.default===void 0)return;const y=ft(Ze(d.default));if(y.length===0)return;let T=1;const m=[],J=y.filter(R=>R.type?.name==="QBreadcrumbsEl").length,k=d.separator!==void 0?d.separator:()=>a.separator;return y.forEach(R=>{if(R.type?.name==="QBreadcrumbsEl"){const z=T<J,$=R.props!==null&&Pt.includes(R.props.disable),h=(z===!0?"":" q-breadcrumbs--last")+($!==!0&&z===!0?j.value:"");T++,m.push(S("div",{class:`flex items-center${h}`},[R])),z===!0&&m.push(S("div",{class:"q-breadcrumbs__separator"+A.value},k()))}else m.push(R)}),S("div",{class:"q-breadcrumbs"},[S("div",{class:N.value},m)])}}}),Lt=["none","strict","leaf","leaf-filtered"],Ft=Be({name:"QTree",props:{...vt,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:a=>Lt.includes(a)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(a,{slots:d,emit:v}){const{proxy:N}=mt(),{$q:A}=N,j=gt(a,A),y=K({}),T=K(a.ticked||[]),m=K(a.expanded||[]);let J={};bt(()=>{J={}});const k=F(()=>`q-tree q-tree--${a.dense===!0?"dense":"standard"}`+(a.noConnectors===!0?" q-tree--no-connectors":"")+(j.value===!0?" q-tree--dark":"")+(a.color!==void 0?` text-${a.color}`:"")),R=F(()=>a.selected!==void 0),z=F(()=>a.icon||A.iconSet.tree.icon),$=F(()=>a.controlColor||a.color),h=F(()=>a.textColor!==void 0?` text-${a.textColor}`:""),G=F(()=>{const o=a.selectedColor||a.color;return o?` text-${o}`:""}),le=F(()=>a.filterMethod!==void 0?a.filterMethod:(o,u)=>{const r=u.toLowerCase();return o[a.labelKey]&&o[a.labelKey].toLowerCase().indexOf(r)!==-1}),q=F(()=>{const o={},u=(r,g)=>{const s=r.tickStrategy||(g?g.tickStrategy:a.tickStrategy),w=r[a.nodeKey],D=r[a.childrenKey]&&Array.isArray(r[a.childrenKey])&&r[a.childrenKey].length!==0,te=r.disabled!==!0&&R.value===!0&&r.selectable!==!1,O=r.disabled!==!0&&r.expandable!==!1,ge=s!=="none",be=s==="strict",Te=s==="leaf-filtered",xe=s==="leaf"||s==="leaf-filtered";let Ce=r.disabled!==!0&&r.tickable!==!1;xe===!0&&Ce===!0&&g&&g.tickable!==!0&&(Ce=!1);let Z=r.lazy;Z===!0&&y.value[w]!==void 0&&Array.isArray(r[a.childrenKey])===!0&&(Z=y.value[w]);const x={key:w,parent:g,isParent:D,lazy:Z,disabled:r.disabled,link:r.disabled!==!0&&(te===!0||O===!0&&(D===!0||Z===!0)),children:[],matchesFilter:a.filter?le.value(r,a.filter):!0,selected:w===a.selected&&te===!0,selectable:te,expanded:D===!0?m.value.includes(w):!1,expandable:O,noTick:r.noTick===!0||be!==!0&&Z&&Z!=="loaded",tickable:Ce,tickStrategy:s,hasTicking:ge,strictTicking:be,leafFilteredTicking:Te,leafTicking:xe,ticked:be===!0?T.value.includes(w):D===!0?!1:T.value.includes(w)};if(o[w]=x,D===!0&&(x.children=r[a.childrenKey].map(E=>u(E,x)),a.filter&&(x.matchesFilter!==!0?x.matchesFilter=x.children.some(E=>E.matchesFilter):x.noTick!==!0&&x.disabled!==!0&&x.tickable===!0&&Te===!0&&x.children.every(E=>E.matchesFilter!==!0||E.noTick===!0||E.tickable!==!0)===!0&&(x.tickable=!1)),x.matchesFilter===!0&&(x.noTick!==!0&&be!==!0&&x.children.every(E=>E.noTick)===!0&&(x.noTick=!0),xe))){if(x.ticked=!1,x.indeterminate=x.children.some(E=>E.indeterminate===!0),x.tickable=x.tickable===!0&&x.children.some(E=>E.tickable),x.indeterminate!==!0){const E=x.children.reduce(($e,De)=>De.ticked===!0?$e+1:$e,0);E===x.children.length?x.ticked=!0:E>0&&(x.indeterminate=!0)}x.indeterminate===!0&&(x.indeterminateNextState=x.children.every(E=>E.tickable!==!0||E.ticked!==!0))}return x};return a.nodes.forEach(r=>u(r,null)),o});Me(()=>a.ticked,o=>{T.value=o}),Me(()=>a.expanded,o=>{m.value=o});function M(o){const u=[].reduce,r=(g,s)=>{if(g||!s)return g;if(Array.isArray(s)===!0)return u.call(Object(s),r,g);if(s[a.nodeKey]===o)return s;if(s[a.childrenKey])return r(null,s[a.childrenKey])};return r(null,a.nodes)}function fe(){return T.value.map(o=>M(o))}function V(){return m.value.map(o=>M(o))}function Ee(o){return o&&q.value[o]?q.value[o].expanded:!1}function se(){a.expanded!==void 0?v("update:expanded",[]):m.value=[]}function X(){const o=[],u=r=>{r[a.childrenKey]&&r[a.childrenKey].length!==0&&r.expandable!==!1&&r.disabled!==!0&&(o.push(r[a.nodeKey]),r[a.childrenKey].forEach(u))};a.nodes.forEach(u),a.expanded!==void 0?v("update:expanded",o):m.value=o}function ue(o,u,r=M(o),g=q.value[o]){if(g.lazy&&g.lazy!=="loaded"){if(g.lazy==="loading")return;y.value[o]="loading",Array.isArray(r[a.childrenKey])!==!0&&(r[a.childrenKey]=[]),v("lazyLoad",{node:r,key:o,done:s=>{y.value[o]="loaded",r[a.childrenKey]=Array.isArray(s)===!0?s:[],yt(()=>{q.value[o]?.isParent===!0&&_e(o,!0)})},fail:()=>{delete y.value[o],r[a.childrenKey].length===0&&delete r[a.childrenKey]}})}else g.isParent===!0&&g.expandable===!0&&_e(o,u)}function _e(o,u){let r=m.value;const g=a.expanded!==void 0;if(g===!0&&(r=r.slice()),u){if(a.accordion&&q.value[o]){const s=[];q.value[o].parent?q.value[o].parent.children.forEach(w=>{w.key!==o&&w.expandable===!0&&s.push(w.key)}):a.nodes.forEach(w=>{const D=w[a.nodeKey];D!==o&&s.push(D)}),s.length!==0&&(r=r.filter(w=>s.includes(w)===!1))}r=r.concat([o]).filter((s,w,D)=>D.indexOf(s)===w)}else r=r.filter(s=>s!==o);g===!0?v("update:expanded",r):m.value=r}function ze(o){return o&&q.value[o]?q.value[o].ticked:!1}function ve(o,u){let r=T.value;const g=a.ticked!==void 0;g===!0&&(r=r.slice()),u?r=r.concat(o).filter((s,w,D)=>D.indexOf(s)===w):r=r.filter(s=>o.includes(s)===!1),g===!0&&v("update:ticked",r)}function he(o,u,r){const g={tree:N,node:o,key:r,color:a.color,dark:j.value};return Ue(g,"expanded",()=>u.expanded,s=>{s!==u.expanded&&ue(r,s)}),Ue(g,"ticked",()=>u.ticked,s=>{s!==u.ticked&&ve([r],s)}),g}function ae(o){return(a.filter?o.filter(u=>q.value[u[a.nodeKey]].matchesFilter):o).map(u=>me(u))}function pe(o){if(o.icon!==void 0)return S(H,{class:"q-tree__icon q-mr-sm",name:o.icon,color:o.iconColor});const u=o.img||o.avatar;if(u)return S("img",{class:`q-tree__${o.img?"img":"avatar"} q-mr-sm`,src:u})}function Ke(){v("afterShow")}function de(){v("afterHide")}function me(o){const u=o[a.nodeKey],r=q.value[u],g=o.header&&d[`header-${o.header}`]||d["default-header"],s=r.isParent===!0?ae(o[a.childrenKey]):[],w=s.length!==0||r.lazy&&r.lazy!=="loaded";let D=o.body&&d[`body-${o.body}`]||d["default-body"];const te=g!==void 0||D!==void 0?he(o,r,u):null;return D!==void 0&&(D=S("div",{class:"q-tree__node-body relative-position"},[S("div",{class:h.value},[D(te)])])),S("div",{key:u,class:`q-tree__node relative-position q-tree__node--${w===!0?"parent":"child"}`},[S("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(r.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(r.selected===!0?" q-tree__node--selected":"")+(r.disabled===!0?" q-tree__node--disabled":""),tabindex:r.link===!0?0:-1,ariaExpanded:s.length>0?r.expanded:null,role:"treeitem",onClick:O=>{Ve(o,r,O)},onKeypress(O){_t(O)!==!0&&(O.keyCode===13?Ve(o,r,O,!0):O.keyCode===32&&ie(o,r,O,!0))}},[S("div",{class:"q-focus-helper",tabindex:-1,ref:O=>{J[r.key]=O}}),r.lazy==="loading"?S(tt,{class:"q-tree__spinner",color:$.value}):w===!0?S(H,{class:"q-tree__arrow"+(r.expanded===!0?" q-tree__arrow--rotate":""),name:z.value,onClick(O){ie(o,r,O)}}):null,r.hasTicking===!0&&r.noTick!==!0?S(lt,{class:"q-tree__tickbox",modelValue:r.indeterminate===!0?null:r.ticked,color:$.value,dark:j.value,dense:!0,keepColor:!0,disable:r.tickable!==!0,onKeydown:Oe,"onUpdate:modelValue":O=>{Pe(r,O)}}):null,S("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(r.selected===!0?G.value:h.value)},[g?g(te):[pe(o),S("div",o[a.labelKey])]])]),w===!0?a.noTransition===!0?r.expanded===!0?S("div",{class:"q-tree__node-collapsible"+h.value,key:`${u}__q`},[D,S("div",{class:"q-tree__children"+(r.disabled===!0?" q-tree__node--disabled":""),role:"group"},s)]):null:S(at,{duration:a.duration,onShow:Ke,onHide:de},()=>Le(S("div",{class:"q-tree__node-collapsible"+h.value,key:`${u}__q`},[D,S("div",{class:"q-tree__children"+(r.disabled===!0?" q-tree__node--disabled":""),role:"group"},s)]),[[ht,r.expanded]])):D])}function ke(o){J[o]?.focus()}function Ve(o,u,r,g){g!==!0&&u.selectable!==!1&&ke(u.key),R.value&&u.selectable?a.noSelectionUnset===!1?v("update:selected",u.key!==a.selected?u.key:null):u.key!==a.selected&&v("update:selected",u.key===void 0?null:u.key):ie(o,u,r,g),typeof o.handler=="function"&&o.handler(o)}function ie(o,u,r,g){r!==void 0&&Oe(r),g!==!0&&u.selectable!==!1&&ke(u.key),ue(u.key,!u.expanded,o,u)}function Pe(o,u){if(o.indeterminate===!0&&(u=o.indeterminateNextState),o.strictTicking)ve([o.key],u);else if(o.leafTicking){const r=[],g=s=>{s.isParent?(u!==!0&&s.noTick!==!0&&s.tickable===!0&&r.push(s.key),s.leafTicking===!0&&s.children.forEach(g)):s.noTick!==!0&&s.tickable===!0&&(s.leafFilteredTicking!==!0||s.matchesFilter===!0)&&r.push(s.key)};g(o),ve(r,u)}}return a.defaultExpandAll===!0&&X(),Object.assign(N,{getNodeByKey:M,getTickedNodes:fe,getExpandedNodes:V,isExpanded:Ee,collapseAll:se,expandAll:X,setExpanded:ue,isTicked:ze,setTicked:ve}),()=>{const o=ae(a.nodes);return S("div",{class:k.value,role:"tree"},o.length===0?a.filter?a.noResultsLabel||A.lang.tree.noResults:a.noNodesLabel||A.lang.tree.noNodes:o)}}}),Nt={class:"q-mb-md"},Mt={class:"row justify-between items-center"},Ot={key:0,class:"text-caption text-grey-6"},Ut={key:0},jt={class:"row q-gutter-sm items-center"},Rt={key:0,class:"q-mt-sm"},Ht={class:"text-blue-8 text-body2"},Yt={class:"row q-gutter-xs"},Gt={key:0,class:"q-mb-md"},Wt={key:1,class:"q-mb-md"},Jt={class:"row items-center"},Xt={key:2,class:"flex flex-center q-pa-md"},Zt={key:3,class:"tree-view"},el={class:"text-h6 q-mb-md"},tl={class:"row items-center full-width"},ll={key:0,class:"text-caption text-grey-6 q-mr-md"},al={class:"row q-gutter-xs"},nl={key:0,class:"text-center q-pa-lg"},il={key:4,class:"desktop-view"},rl={class:"row items-center no-wrap"},ol={class:"text-truncate",style:{"max-width":"200px"}},sl={key:1,class:"text-grey-6"},ul={class:"row no-wrap q-gutter-xs justify-end"},dl={class:"full-width row flex-center text-accent q-gutter-sm"},cl={key:5,class:"mobile-view"},fl={class:"row items-center justify-between q-mb-md"},vl={class:"text-caption text-grey-7"},ml={class:"q-gutter-sm"},gl={class:"row items-center full-width no-wrap"},bl={class:"q-mr-md"},yl={class:"col-grow q-mr-md"},_l={class:"row items-center"},hl={class:"text-weight-medium"},pl={class:"text-caption text-grey-6"},kl={key:0,class:"text-body2 q-mb-md"},xl={key:1,class:"text-body2 q-mb-md"},Cl={class:"text-body2 q-mb-md"},wl={class:"column q-gutter-sm"},ql={class:"row q-gutter-sm"},Sl={key:0,class:"text-center q-pa-lg"},Bl={class:"text-grey-6 q-mt-sm"},zl={class:"text-h6"},Vl=pt({__name:"ServiceCategoriesPage",setup(a){const d=qt(),v=Dt(),N=K(!1),A=K(!1),j=K(!1),y=K(null),T=K(""),m=K([]),J=K(!1),k=K("table"),R=K([]),z=K([]),$=K(null),h=K([{id:null,name:"Корень"}]),G=K([]),le=K(!1),q=K(""),M=K([]),fe=K(!1),V=K({name:"",brief:"",is_published:!0,parent:null,order:0}),Ee=[{name:"name",required:!0,label:"Название",align:"left",field:"name",sortable:!0},{name:"brief",label:"Описание",field:"brief",align:"left",sortable:!1},{name:"parent",label:"Родительская",field:"parent",align:"left",sortable:!1},{name:"is_published",label:"Статус",field:"is_published",align:"center",sortable:!0},{name:"order",label:"Порядок",field:"order",align:"center",sortable:!0},{name:"actions",label:"Действия",field:"id",align:"right"}],se=F(()=>{if(!fe.value||M.value.length===0)return[];let i=M.value.filter(e=>(e.parent?.id||null)===$.value);if(T.value.trim().length>=1){const e=T.value.toLowerCase();i=i.filter(t=>t.name.toLowerCase().includes(e)||t.slug.toLowerCase().includes(e)||t.brief&&t.brief.toLowerCase().includes(e))}return i.sort((e,t)=>e.order!==t.order?e.order-t.order:e.name.localeCompare(t.name))});function X(i){return i?i.has_children:!1}function ue(i){return!i||!M.value?0:M.value.filter(e=>e.parent?.id===i).length}function _e(i){return typeof i=="object"&&i!==null&&"id"in i&&"name"in i&&(typeof i.id=="string"||i.id===null)&&typeof i.name=="string"}function ze(){return h.value.length===0?"Корень":h.value.map(i=>i.name).join(" > ")}function ve(){return`Категории услуг: ${he()?.name||"Корень"}`}function he(){if(h.value.length!==0)return h.value[h.value.length-1]}async function ae(){if(fe.value){console.log("🎯 Используем кешированные данные:",M.value.length);return}console.log("🔄 Загружаем все категории...");try{const i=await v.loadAllCategoriesIntoCache();M.value=i,fe.value=!0,console.log(`✅ Загружено и кешировано: ${i.length} категорий`)}catch(i){throw console.error("Ошибка при загрузке категорий:",i),i}}function pe(){console.log("🗑️ Сбрасываем кеш..."),fe.value=!1,M.value=[],v.invalidateCache()}function Ke(i){if(i.length===0)return[];const e=new Map;i.forEach(P=>{const ce=P.parent?.id||null;e.has(ce)||e.set(ce,[]);const we=e.get(ce);we&&we.push(P)});function t(P){const we=(e.get(P.id)||[]).sort((Qe,Ne)=>Qe.order-Ne.order||Qe.name.localeCompare(Ne.name)).map(Qe=>t(Qe)),Fe={id:P.id,label:P.name,category:P,icon:P.has_children?"folder":"description",iconColor:P.is_published?"primary":"grey-5",disabled:!P.is_published};return we.length>0&&(Fe.children=we),Fe}return i.filter(P=>P.parent===null).sort((P,ce)=>P.order-ce.order||P.name.localeCompare(ce.name)).map(P=>t(P))}async function de(){try{if(console.log("🌳 Строим дерево..."),await ae(),M.value.length===0){z.value=[];return}z.value=Ke(M.value),R.value=M.value.filter(i=>i.parent===null).map(i=>i.id),console.log(`🌳 Дерево построено: ${M.value.length} элементов`)}catch(i){console.error("Ошибка при построении дерева:",i),z.value=[],d.notify({type:"negative",message:"Ошибка при загрузке дерева категорий"})}}function me(i){!i||!i.has_children||h.value.some(t=>t.id===i.id)||($.value=i.id,h.value.push({id:i.id,name:i.name}),m.value=[],T.value="",console.log(`📁 Навигация в папку: ${i.name}`))}function ke(){if(h.value.length<=1)return;h.value.pop();const i=h.value[h.value.length-1];if(!_e(i)){ie();return}$.value=i.id,m.value=[],T.value="",console.log(`🔙 Возврат к: ${i.name}`)}function Ve(i){if(i<0||i>=h.value.length)return;const e=h.value[i];if(!_e(e)){ie();return}h.value=h.value.slice(0,i+1),$.value=e.id,m.value=[],T.value="",console.log(`🎯 Переход к уровню: ${e.name}`)}function ie(){$.value=null,h.value=[{id:null,name:"Корень"}],m.value=[],T.value="",console.log("🏠 Сброс к корню")}function Pe(i){const e=i?String(i).trim():"";T.value=e,console.log(`🔍 Поиск: "${e}" на уровне "${ze()}"`)}function o(){T.value="",console.log("🗑️ Поиск очищен")}async function u(i){console.log(`🔄 Переключение в режим: ${i}`),k.value=i,m.value=[],T.value="",await ae(),k.value==="tree"?await de():ie()}function r(i,e){i&&(e?m.value.some(t=>t.id===i.id)||m.value.push(i):m.value=m.value.filter(t=>t.id!==i.id))}async function g(i,e){if(!e)return;const t=i.target;t.closest(".q-btn")||t.closest("button")||t.closest(".q-checkbox")||(X(e)?me(e):await be(i,e))}async function s(i=""){if(!(i===q.value&&G.value.length>0)&&!le.value){le.value=!0;try{const e=await v.searchCategoriesForAutocomplete(i);e?G.value=e.filter(t=>!j.value||t.id!==V.value.id):G.value=[],q.value=i}catch(e){console.error("Error loading parent category options:",e),G.value=[]}finally{le.value=!1}}}let w=!1;function D(i,e){if(!w){if(i.length>0&&i.length<2){e(()=>{G.value=[]});return}w=!0,e(()=>{s(i).finally(()=>{w=!1})})}}async function te(i){if(!i||!i.id){console.error("Ошибка: row или row.id is undefined");return}try{const e=await v.fetchServiceCategoryById(i.id);if(e)y.value=e,A.value=!0;else throw new Error("Не удалось получить данные категории")}catch(e){console.error("Ошибка при загрузке данных категории:",e),d.notify({type:"negative",message:"Ошибка при загрузке данных категории"})}}async function O(){j.value=!1,V.value={name:"",brief:"",is_published:!0,parent:$.value,order:0},await s(),N.value=!0}async function ge(i){if(!i||!i.id){console.error("Ошибка: category или category.id is undefined");return}j.value=!0;try{const e=await v.fetchServiceCategoryById(i.id);e?V.value={id:e.id,name:e.name,brief:e.brief||"",is_published:e.is_published,parent:e.parent?.id||null,order:e.order}:V.value={id:i.id,name:i.name,brief:i.brief||"",is_published:i.is_published,parent:i.parent?.id||null,order:i.order},await s(),N.value=!0}catch(e){console.error("Ошибка при загрузке данных для редактирования:",e),d.notify({type:"negative",message:"Ошибка при загрузке данных категории"})}}async function be(i,e){if(!e||!e.id)return;const t=i.target;if(!(t.closest(".q-btn")||t.closest("button")))try{const p=await v.fetchServiceCategoryById(e.id);if(p)y.value=p,A.value=!0;else throw new Error("Не удалось получить данные категории")}catch(p){console.error("Ошибка при загрузке данных категории:",p),d.notify({type:"negative",message:"Ошибка при загрузке данных категории"})}}async function Te(){if(!V.value.name){d.notify({type:"negative",message:"Название категории услуг обязательно."});return}const e={...{name:V.value.name,is_published:V.value.is_published,parent:V.value.parent,order:V.value.order},...V.value.brief&&{brief:V.value.brief}};let t=!1;try{j.value&&V.value.id?await v.updateServiceCategory(V.value.id,e)&&(t=!0):await v.createServiceCategory(e)&&(t=!0)}catch(p){console.error("Ошибка при сохранении категории:",p),d.notify({type:"negative",message:"Ошибка при сохранении категории"});return}t&&(N.value=!1,pe(),await ae(),k.value==="tree"&&await de(),d.notify({type:"positive",message:j.value?"Категория успешно обновлена":"Категория успешно создана"}))}function xe(){if(m.value.length===0){d.notify({type:"warning",message:"Не выбрано ни одной категории для удаления"});return}Je.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить ${m.value.length} элементов?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{Ce()})}async function Ce(){if(m.value.length!==0){J.value=!0;try{const i=m.value.map(t=>t.id);if(i.length===0)throw new Error("Не выбрано ни одной категории для удаления");await v.bulkDeleteServiceCategories(i)&&(m.value=[],pe(),await ae(),k.value==="tree"&&await de(),d.notify({type:"positive",message:"Выбранные категории успешно удалены"}))}catch(i){console.error("Ошибка при массовом удалении:",i),d.notify({type:"negative",message:"Ошибка при удалении категорий"})}finally{J.value=!1}}}function Z(i){if(!i||!i.id){console.error("Ошибка: category или category.id is undefined");return}Je.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить категорию услуг "${i.name}"?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{x(i.id)})}async function x(i){if(!i){console.error("Ошибка: categoryId is undefined");return}try{await v.deleteServiceCategory(i)&&(pe(),await ae(),k.value==="tree"&&await de(),d.notify({type:"positive",message:"Категория успешно удалена"}))}catch(e){d.notify({type:"negative",message:"Ошибка при удалении категории услуг"}),console.error("Delete service category error:",e)}}async function E(){y.value&&(A.value=!1,await ge(y.value))}function $e(){y.value&&(A.value=!1,Z(y.value))}function De(i){return i?Vt.formatDate(i,"DD.MM.YYYY HH:mm"):""}async function nt(){try{console.log("🚀 Инициализация приложения..."),await ae(),k.value==="tree"?await de():ie(),console.log("✅ Приложение инициализировано")}catch(i){console.error("❌ Ошибка инициализации:",i),d.notify({type:"negative",message:"Ошибка при загрузке данных"})}}return kt(async()=>{await nt()}),(i,e)=>(_(),I($t,{padding:""},{default:n(()=>[f("div",Nt,[f("div",Mt,[f("div",null,[e[12]||(e[12]=f("div",{class:"text-h5"},"Управление категориями услуг",-1)),B(v).hierarchyMeta.total_count>0?(_(),U("div",Ot,[c(" Всего категорий: "+b(B(v).hierarchyMeta.total_count)+" • Максимальный уровень: "+b(B(v).hierarchyMeta.max_level+1)+" • Режим отображения: "+b(k.value==="tree"?"Древовидный":"Табличный")+" ",1),k.value==="table"&&h.value.length>1?(_(),U("span",Ut," • Путь: "+b(ze()),1)):C("",!0)])):C("",!0)]),f("div",jt,[l(Et,{modelValue:k.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>k.value=t),u],"toggle-color":"green-5",color:"grey-4","text-color":"grey-8","toggle-text-color":"white",options:[{label:B(d).screen.gt.sm?"Дерево":"",value:"tree",icon:"account_tree"},{label:B(d).screen.gt.sm?"Таблица":"",value:"table",icon:"table_view"}],"no-caps":"",unelevated:"",dense:""},null,8,["modelValue","options"]),l(Q,{color:"primary",icon:"add",onClick:O,label:B(d).screen.gt.xs?"Добавить категорию":"",round:B(d).screen.xs},null,8,["label","round"])])]),l(at,null,{default:n(()=>[m.value.length>0&&k.value==="table"?(_(),U("div",Rt,[l(ye,{flat:"",bordered:"",class:"bg-blue-1"},{default:n(()=>[l(re,{class:"q-pa-sm"},{default:n(()=>[f("div",{class:qe(B(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between")},[f("span",Ht,b(m.value.length)+" выбрано",1),f("div",Yt,[l(Q,{dense:B(d).screen.xs,size:(B(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:xe,loading:J.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):C("",!0)]),_:1})]),k.value==="table"?(_(),U("div",Gt,[l(Ae,{modelValue:T.value,"onUpdate:modelValue":[e[1]||(e[1]=t=>T.value=t),Pe],placeholder:"Поиск по названию категории услуг на текущем уровне...",clearable:"",outlined:"",dense:"",onClear:o},{prepend:n(()=>[l(H,{name:"search"})]),append:n(()=>[h.value.length>1&&he()?(_(),I(W,{key:0,size:"sm",color:"secondary","text-color":"white"},{default:n(()=>[c(b(he()?.name||"Не выбрано"),1)]),_:1})):C("",!0)]),_:1},8,["modelValue"])])):C("",!0),k.value==="table"?(_(),U("div",Wt,[l(ye,{flat:"",bordered:""},{default:n(()=>[l(re,{class:"q-pa-sm"},{default:n(()=>[f("div",Jt,[l(H,{name:"folder",class:"q-mr-sm text-grey-6"}),l(It,null,{default:n(()=>[(_(!0),U(je,null,Re(h.value,(t,p)=>(_(),I(Kt,{key:t.id||"root",label:t.name,icon:p===0?"home":"folder",onClick:P=>Ve(p),class:qe(p===h.value.length-1?"text-weight-bold":"cursor-pointer")},null,8,["label","icon","onClick","class"]))),128))]),_:1}),l(Ie),l(W,{size:"sm",color:"info","text-color":"white",icon:"folder_open",class:"q-mr-sm"},{default:n(()=>[c(b(se.value.length)+" элементов ",1)]),_:1}),h.value.length>1?(_(),I(Q,{key:0,flat:"",dense:"",icon:"arrow_back",label:"Назад",onClick:ke,color:"primary",size:"sm"})):C("",!0)])]),_:1})]),_:1})])):C("",!0),B(v).loading?(_(),U("div",Xt,[l(tt,{color:"primary",size:"3em"}),e[13]||(e[13]=f("div",{class:"q-ml-md text-grey-6"},"Загружаем данные...",-1))])):C("",!0),!B(v).loading&&k.value==="tree"?(_(),U("div",Zt,[l(ye,{flat:"",bordered:""},{default:n(()=>[l(re,null,{default:n(()=>[f("div",el,[l(H,{name:"account_tree",class:"q-mr-sm"}),e[15]||(e[15]=c(" Иерархия категорий ")),l(W,{size:"sm",color:"positive","text-color":"white",class:"q-ml-sm"},{default:n(()=>e[14]||(e[14]=[c(" Полная иерархия загружена ")])),_:1,__:[14]})]),l(Ft,{nodes:z.value,expanded:R.value,"onUpdate:expanded":e[2]||(e[2]=t=>R.value=t),"node-key":"id","label-key":"label","children-key":"children","default-expand-all":""},{"default-header":n(t=>[f("div",tl,[l(H,{name:t.node.icon,color:t.node.iconColor,class:"q-mr-sm"},null,8,["name","color"]),f("span",{class:qe([t.node.disabled?"text-grey-6":"text-weight-medium","q-mr-md"])},b(t.node.label),3),l(W,{color:t.node.category.is_published?"positive":"negative","text-color":"white",size:"sm",icon:t.node.category.is_published?"visibility":"visibility_off",class:"q-mr-sm"},{default:n(()=>[c(b(t.node.category.is_published?"Опубликовано":"Скрыто"),1)]),_:2},1032,["color","icon"]),t.node.category.brief?(_(),U("span",ll,b(t.node.category.brief?.substring(0,50))+b((t.node.category.brief?.length||0)>50?"...":""),1)):C("",!0),l(Ie),f("div",al,[l(Q,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ne(p=>te(t.node.category),["stop"]),size:"sm"},{default:n(()=>[l(oe,null,{default:n(()=>e[16]||(e[16]=[c("Просмотр")])),_:1,__:[16]})]),_:2},1032,["onClick"]),l(Q,{flat:"",round:"",dense:"",icon:"edit",onClick:ne(p=>ge(t.node.category),["stop"]),size:"sm"},{default:n(()=>[l(oe,null,{default:n(()=>e[17]||(e[17]=[c("Редактировать")])),_:1,__:[17]})]),_:2},1032,["onClick"]),l(Q,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ne(p=>Z(t.node.category),["stop"]),size:"sm"},{default:n(()=>[l(oe,null,{default:n(()=>e[18]||(e[18]=[c("Удалить")])),_:1,__:[18]})]),_:2},1032,["onClick"])])])]),_:1},8,["nodes","expanded"]),z.value.length===0?(_(),U("div",nl,[l(H,{name:"account_tree",size:"4em",color:"grey-4"}),e[19]||(e[19]=f("div",{class:"text-grey-6 q-mt-sm"},"Категории услуг не найдены",-1))])):C("",!0)]),_:1})]),_:1})])):C("",!0),!B(v).loading&&k.value==="table"&&B(d).screen.gt.xs?(_(),U("div",il,[l(St,{title:ve(),rows:se.value,columns:Ee,"row-key":"id",loading:B(v).loading,selected:m.value,"onUpdate:selected":e[3]||(e[3]=t=>m.value=t),selection:"multiple",onRowClick:g,"rows-per-page-options":[5,10,20,30,50],pagination:{rowsPerPage:10},class:"cursor-pointer service-categories-table"},{"body-cell-name":n(t=>[l(Se,{props:t},{default:n(()=>[f("div",rl,[l(H,{name:X(t.row)?"folder":"description",color:t.row.is_published?"secondary":"grey-5",class:"q-mr-sm",size:"md"},null,8,["name","color"]),f("span",{class:qe(["text-weight-medium",t.row.is_published?"":"text-grey-6"])},b(t.row.name),3),X(t.row)?(_(),I(W,{key:0,size:"xs",color:"secondary","text-color":"white",class:"q-ml-xs"},{default:n(()=>[c(b(ue(t.row.id)),1)]),_:2},1024)):C("",!0)])]),_:2},1032,["props"])]),"body-cell-brief":n(t=>[l(Se,{props:t},{default:n(()=>[f("div",ol,b(t.row.brief||"-"),1)]),_:2},1032,["props"])]),"body-cell-is_published":n(t=>[l(Se,{props:t},{default:n(()=>[l(W,{color:t.row.is_published?"positive":"negative","text-color":"white",size:"sm",icon:t.row.is_published?"visibility":"visibility_off"},{default:n(()=>[c(b(t.row.is_published?"Опубликовано":"Скрыто"),1)]),_:2},1032,["color","icon"])]),_:2},1032,["props"])]),"body-cell-parent":n(t=>[l(Se,{props:t},{default:n(()=>[t.row.parent?(_(),I(W,{key:0,color:"secondary","text-color":"white",size:"sm",icon:"folder"},{default:n(()=>[c(b(t.row.parent.name),1)]),_:2},1024)):(_(),U("span",sl,"Корневая"))]),_:2},1032,["props"])]),"body-cell-actions":n(t=>[l(Se,{props:t,class:"text-right"},{default:n(()=>[f("div",ul,[X(t.row)?(_(),I(Q,{key:0,flat:"",round:"",dense:"",icon:"folder_open",color:"secondary",onClick:ne(p=>me(t.row),["stop"])},{default:n(()=>[l(oe,null,{default:n(()=>e[20]||(e[20]=[c("Открыть папку")])),_:1,__:[20]})]),_:2},1032,["onClick"])):C("",!0),l(Q,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ne(p=>te(t.row),["stop"])},{default:n(()=>[l(oe,null,{default:n(()=>e[21]||(e[21]=[c("Просмотр")])),_:1,__:[21]})]),_:2},1032,["onClick"]),l(Q,{flat:"",round:"",dense:"",icon:"edit",onClick:ne(p=>ge(t.row),["stop"])},{default:n(()=>[l(oe,null,{default:n(()=>e[22]||(e[22]=[c("Редактировать")])),_:1,__:[22]})]),_:2},1032,["onClick"]),l(Q,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ne(p=>Z(t.row),["stop"])},{default:n(()=>[l(oe,null,{default:n(()=>e[23]||(e[23]=[c("Удалить")])),_:1,__:[23]})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"no-data":n(({icon:t,message:p,filter:P})=>[f("div",dl,[l(H,{size:"2em",name:P?"filter_b_and_w":t},null,8,["name"]),f("span",null,b(p),1)])]),_:1},8,["title","rows","loading","selected"])])):C("",!0),!B(v).loading&&k.value==="table"&&B(d).screen.xs?(_(),U("div",cl,[f("div",fl,[f("div",vl," Элементов на уровне: "+b(se.value.length),1),h.value.length>1?(_(),I(Q,{key:0,flat:"",dense:"",icon:"arrow_back",label:"Назад",onClick:ke,color:"primary",size:"sm"})):C("",!0)]),f("div",ml,[(_(!0),U(je,null,Re(se.value,t=>(_(),I(Bt,{key:t.id,class:"service-category-card","header-class":m.value.some(p=>p.id===t.id)?"bg-blue-1":""},{header:n(()=>[f("div",gl,[l(lt,{"model-value":m.value.some(p=>p.id===t.id),"onUpdate:modelValue":p=>r(t,p),class:"q-mr-sm",onClick:e[4]||(e[4]=ne(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"]),f("div",bl,[l(He,{size:"40px",class:"bg-secondary text-white"},{default:n(()=>[l(H,{name:X(t)?"folder":"description"},null,8,["name"])]),_:2},1024)]),f("div",yl,[f("div",_l,[f("div",hl,b(t.name),1),X(t)?(_(),I(W,{key:0,size:"xs",color:"secondary","text-color":"white",class:"q-ml-xs"},{default:n(()=>[c(b(ue(t.id)),1)]),_:2},1024)):C("",!0)]),f("div",pl,b(t.slug),1)]),X(t)?(_(),I(Q,{key:0,flat:"",round:"",dense:"",icon:"arrow_forward",color:"secondary",onClick:ne(p=>me(t),["stop"]),class:"q-mr-sm"},{default:n(()=>[l(oe,null,{default:n(()=>e[24]||(e[24]=[c("Открыть папку")])),_:1,__:[24]})]),_:2},1032,["onClick"])):C("",!0),l(H,{name:t.is_published?"visibility":"visibility_off",color:t.is_published?"positive":"negative",size:"sm",class:"q-mr-sm"},null,8,["name","color"])])]),default:n(()=>[l(ye,{flat:""},{default:n(()=>[l(re,{class:"q-pt-none"},{default:n(()=>[t.brief?(_(),U("div",kl,[e[25]||(e[25]=f("strong",null,"Описание:",-1)),e[26]||(e[26]=f("br",null,null,-1)),c(" "+b(t.brief),1)])):C("",!0),t.parent?(_(),U("div",xl,[e[27]||(e[27]=f("strong",null,"Родительская категория:",-1)),e[28]||(e[28]=f("br",null,null,-1)),l(W,{color:"secondary","text-color":"white",size:"sm",icon:"folder"},{default:n(()=>[c(b(t.parent.name),1)]),_:2},1024)])):C("",!0),f("div",Cl,[e[29]||(e[29]=f("strong",null,"Статус:",-1)),e[30]||(e[30]=f("br",null,null,-1)),l(W,{color:t.is_published?"positive":"negative","text-color":"white",size:"sm",icon:t.is_published?"visibility":"visibility_off"},{default:n(()=>[c(b(t.is_published?"Опубликовано":"Скрыто"),1)]),_:2},1032,["color","icon"])]),f("div",wl,[X(t)?(_(),I(Q,{key:0,unelevated:"",color:"secondary",icon:"folder_open",label:"Открыть папку",onClick:p=>me(t),class:"full-width"},null,8,["onClick"])):C("",!0),l(Q,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:p=>te(t),class:"full-width"},null,8,["onClick"]),f("div",ql,[l(Q,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:p=>ge(t),class:"col"},null,8,["onClick"]),l(Q,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:p=>Z(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))]),se.value.length===0?(_(),U("div",Sl,[l(H,{name:"folder_open",size:"4em",color:"grey-4"}),f("div",Bl,b(h.value.length>1?"Папка пуста":"Категории услуг не найдены"),1)])):C("",!0)])):C("",!0),l(Ye,{modelValue:N.value,"onUpdate:modelValue":e[10]||(e[10]=t=>N.value=t),persistent:"",maximized:B(d).screen.xs},{default:n(()=>[l(ye,{style:Ge(B(d).screen.xs?"":"min-width: 600px")},{default:n(()=>[l(re,null,{default:n(()=>[f("div",zl,b(j.value?"Редактировать категорию услуг":"Добавить категорию услуг"),1)]),_:1}),l(re,{class:"q-pt-none"},{default:n(()=>[l(Ae,{modelValue:V.value.name,"onUpdate:modelValue":e[5]||(e[5]=t=>V.value.name=t),label:"Название *",autofocus:"",rules:[t=>!!t||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","rules"]),l(zt,{modelValue:V.value.parent,"onUpdate:modelValue":e[6]||(e[6]=t=>V.value.parent=t),options:G.value,"option-label":"display_name","option-value":"id",label:"Родительская категория","emit-value":"","map-options":"",clearable:"",loading:le.value,onFilter:D,class:"q-mb-md","use-input":"","input-debounce":"1000"},{prepend:n(()=>[l(H,{name:"folder"})]),"no-option":n(()=>[l(ee,null,{default:n(()=>[l(Y,{class:"text-grey"},{default:n(()=>[c(b(le.value?"Загрузка...":"Категории не найдены"),1)]),_:1})]),_:1})]),option:n(t=>[l(ee,xt(Ct(t.itemProps)),{default:n(()=>[l(Y,{avatar:""},{default:n(()=>[l(H,{name:t.opt.has_children?"folder":"folder_open",color:t.opt.is_published?"secondary":"grey-5"},null,8,["name","color"])]),_:2},1024),l(Y,null,{default:n(()=>[l(L,{class:qe(t.opt.is_published?"":"text-grey-6"),style:{"font-family":"monospace"}},{default:n(()=>[c(b(t.opt.display_name),1)]),_:2},1032,["class"]),t.opt.brief?(_(),I(L,{key:0,caption:""},{default:n(()=>[c(b(t.opt.brief),1)]),_:2},1024)):C("",!0)]),_:2},1024),t.opt.has_children?(_(),I(Y,{key:0,side:""},{default:n(()=>[l(W,{size:"xs",color:"primary","text-color":"white"},{default:n(()=>[c(b(ue(t.opt.id)),1)]),_:2},1024)]),_:2},1024)):C("",!0)]),_:2},1040)]),_:1},8,["modelValue","options","loading"]),l(Ae,{modelValue:V.value.brief,"onUpdate:modelValue":e[7]||(e[7]=t=>V.value.brief=t),label:"Краткое описание",type:"textarea",autogrow:"",class:"q-mb-md"},null,8,["modelValue"]),l(Ae,{modelValue:V.value.order,"onUpdate:modelValue":e[8]||(e[8]=t=>V.value.order=t),modelModifiers:{number:!0},label:"Порядок сортировки",type:"number",min:"0",class:"q-mb-md"},null,8,["modelValue"]),l(wt,{modelValue:V.value.is_published,"onUpdate:modelValue":e[9]||(e[9]=t=>V.value.is_published=t),label:"Опубликовано",color:"positive"},null,8,["modelValue"])]),_:1}),l(We,{align:"right"},{default:n(()=>[Le(l(Q,{flat:"",label:"Отмена"},null,512),[[Xe]]),l(Q,{flat:"",label:"Сохранить",color:"primary",onClick:Te,loading:B(v).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","maximized"]),l(Ye,{modelValue:A.value,"onUpdate:modelValue":e[11]||(e[11]=t=>A.value=t),maximized:B(d).screen.xs},{default:n(()=>[l(ye,{style:Ge(B(d).screen.xs?"":"min-width: 500px; max-width: 600px")},{default:n(()=>[l(re,{class:"row items-center q-pb-none"},{default:n(()=>[e[31]||(e[31]=f("div",{class:"text-h6"},"Детали категории услуг",-1)),l(Ie),Le(l(Q,{icon:"close",flat:"",round:"",dense:""},null,512),[[Xe]])]),_:1,__:[31]}),y.value?(_(),I(re,{key:0},{default:n(()=>[l(Tt,null,{default:n(()=>[l(ee,null,{default:n(()=>[l(Y,{avatar:""},{default:n(()=>[l(He,{color:"secondary","text-color":"white"},{default:n(()=>[l(H,{name:"category"})]),_:1})]),_:1}),l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[32]||(e[32]=[c("Название")])),_:1,__:[32]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(y.value.name),1)]),_:1})]),_:1})]),_:1}),l(ee,null,{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[33]||(e[33]=[c("Slug")])),_:1,__:[33]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(y.value.slug),1)]),_:1})]),_:1})]),_:1}),y.value.brief?(_(),I(ee,{key:0},{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[34]||(e[34]=[c("Описание")])),_:1,__:[34]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(y.value.brief),1)]),_:1})]),_:1})]),_:1})):C("",!0),y.value.parent?(_(),I(ee,{key:1},{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[35]||(e[35]=[c("Родительская категория")])),_:1,__:[35]}),l(L,{caption:""},{default:n(()=>[l(W,{color:"secondary","text-color":"white",size:"sm",icon:"folder"},{default:n(()=>[c(b(y.value.parent.name),1)]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),l(ee,null,{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[36]||(e[36]=[c("Статус публикации")])),_:1,__:[36]}),l(L,{caption:""},{default:n(()=>[l(W,{color:y.value.is_published?"positive":"negative","text-color":"white",size:"sm",icon:y.value.is_published?"visibility":"visibility_off"},{default:n(()=>[c(b(y.value.is_published?"Опубликовано":"Скрыто"),1)]),_:1},8,["color","icon"])]),_:1})]),_:1})]),_:1}),l(ee,null,{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[37]||(e[37]=[c("Порядок сортировки")])),_:1,__:[37]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(y.value.order),1)]),_:1})]),_:1})]),_:1}),y.value.creator?(_(),I(ee,{key:2},{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[38]||(e[38]=[c("Создатель")])),_:1,__:[38]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(y.value.creator.email),1)]),_:1})]),_:1})]),_:1})):C("",!0),y.value.created?(_(),I(ee,{key:3},{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[39]||(e[39]=[c("Дата создания")])),_:1,__:[39]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(De(y.value.created)),1)]),_:1})]),_:1})]),_:1})):C("",!0),y.value.updated?(_(),I(ee,{key:4},{default:n(()=>[l(Y,null,{default:n(()=>[l(L,{class:"text-weight-medium"},{default:n(()=>e[40]||(e[40]=[c("Дата обновления")])),_:1,__:[40]}),l(L,{caption:"",class:"text-body1"},{default:n(()=>[c(b(De(y.value.updated)),1)]),_:1})]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})):C("",!0),l(We,{align:"right",class:"q-pa-md"},{default:n(()=>[l(Q,{label:B(d).screen.xs?"":"Редактировать",color:"primary",onClick:E,icon:"edit",round:B(d).screen.xs},null,8,["label","round"]),l(Q,{label:B(d).screen.xs?"":"Удалить",color:"negative",onClick:$e,icon:"delete",round:B(d).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","maximized"])]),_:1}))}}),Kl=Qt(Vl,[["__scopeId","data-v-576e094d"]]);export{Kl as default};
