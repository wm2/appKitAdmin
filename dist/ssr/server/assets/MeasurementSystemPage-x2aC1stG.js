import{defineComponent as tl,ref as ve,onMounted as al,resolveComponent as R,resolveDirective as sl,mergeProps as Re,withCtx as l,unref as n,createVNode as e,toDisplayString as r,createBlock as C,createCommentVNode as V,openBlock as $,createTextVNode as a,withModifiers as G,withDirectives as _e,Fragment as nl,renderList as il,useSSRContext as ol}from"vue";import{ssrRenderComponent as o,ssrRenderClass as ul,ssrInterpolate as J,ssrRenderList as dl,ssrGetDirectiveProps as Ze}from"vue/server-renderer";import{u as rl}from"./measurement-systems.store-C6bs5xfy.js";import{useQuasar as cl,Dialog as Te,date as ml}from"quasar";import{_ as fl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"pinia";import"../server-entry.js";import"quasar/wrappers";import"vue-router";import"axios";import"./usePagination-CZ7Hsnrr.js";const Ne=tl({__name:"MeasurementSystemPage",__ssrInlineRender:!0,setup(Fe){const u=cl(),c=rl(),ge=ve(!1),ce=ve(!1),me=ve(!1),s=ve(null),qe=ve(""),z=ve([]),T=ve(!1),p=ve({name:"",is_base_system:!1}),Oe=[{name:"name",required:!0,label:"Название",align:"left",field:"name",sortable:!0},{name:"is_base_system",label:"Тип системы",field:"is_base_system",align:"center",sortable:!0},{name:"actions",label:"Действия",field:"id",align:"right"}];function je(g,k){k?z.value.some(K=>K.id===g.id)||z.value.push(g):z.value=z.value.filter(K=>K.id!==g.id)}async function Ye(g){g.pagination&&await c.handleTableRequest(g)}async function Le(g){const k=g?String(g).trim():"";k.length>=2?await c.filterMeasurementSystems({name:k}):k.length===0&&await c.clearFilters()}async function Ee(){qe.value="",await c.clearFilters()}async function ue(g){const k=await c.fetchMeasurementSystemById(g.id);k&&(s.value=k,ce.value=!0)}function He(){me.value=!1,p.value={name:"",is_base_system:!1},ge.value=!0}async function ne(g){me.value=!0;const k=await c.fetchMeasurementSystemById(g.id);k?p.value={id:k.id,name:k.name,is_base_system:k.is_base_system}:p.value={id:g.id,name:g.name,is_base_system:g.is_base_system},ge.value=!0}async function Ce(){if(!p.value.name){u.notify({type:"negative",message:"Название системы измерений обязательно."});return}const g=typeof p.value.is_base_system=="boolean"?p.value.is_base_system:!1,k={name:p.value.name,is_base_system:g};let K=!1;me.value&&p.value.id?await c.updateMeasurementSystem(p.value.id,k)&&(K=!0):await c.createMeasurementSystem(k)&&(K=!0),K&&(ge.value=!1)}async function Qe(g){await c.patchMeasurementSystemStatus(g.id,!g.is_base_system)}function be(g){if(u.screen.xs){const k=!g.is_base_system,K=k?"сделать базовой":"убрать из базовых";Te.create({title:"Подтвердите действие",message:`Вы уверены, что хотите ${K} систему "${g.name}"?`,persistent:!0,ok:{label:k?"Сделать базовой":"Убрать из базовых",color:k?"green":"orange"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{Qe(g)})}else Qe(g)}function $e(){Te.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить ${z.value.length} элементов?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{el()})}async function el(){T.value=!0;try{await c.bulkDeleteMeasurementSystems(z.value.map(k=>k.id))&&(z.value=[])}finally{T.value=!1}}async function pe(){T.value=!0;try{await c.bulkUpdateMeasurementSystemStatus(z.value.map(k=>k.id),!0)&&(z.value=[])}finally{T.value=!1}}async function Ve(){T.value=!0;try{await c.bulkUpdateMeasurementSystemStatus(z.value.map(k=>k.id),!1)&&(z.value=[])}finally{T.value=!1}}function ie(g){Te.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить систему "${g.name}"?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{c.deleteMeasurementSystem(g.id).catch(k=>{u.notify({type:"negative",message:"Ошибка при удалении системы измерений"}),console.error("Delete measurement system error:",k)})})}async function Ge(g,k){const K=g.target;if(K.closest(".q-btn")||K.closest("button"))return;const xe=await c.fetchMeasurementSystemById(k.id);xe&&(s.value=xe,ce.value=!0)}async function ze(){s.value&&(ce.value=!1,await ne(s.value))}function Se(){s.value&&(ce.value=!1,ie(s.value))}function H(g){return ml.formatDate(g,"DD.MM.YYYY HH:mm")}return al(async()=>{await c.fetchMeasurementSystems()}),(g,k,K,xe)=>{const ll=R("q-page"),d=R("q-btn"),Ae=R("q-slide-transition"),I=R("q-card"),j=R("q-card-section"),ye=R("q-input"),N=R("q-icon"),Je=R("q-spinner"),Ke=R("q-table"),we=R("q-td"),Z=R("q-chip"),A=R("q-tooltip"),We=R("q-expansion-item"),Be=R("q-checkbox"),ae=R("q-avatar"),Pe=R("q-dialog"),he=R("q-toggle"),fe=R("q-card-actions"),Ue=R("q-space"),De=R("q-list"),y=R("q-item"),m=R("q-item-section"),i=R("q-item-label"),oe=sl("close-popup");k(o(ll,Re({padding:""},xe),{default:l((vl,q,se,P)=>{if(q)q(`<div class="q-mb-md" data-v-0ff47c49${P}><div class="row justify-between items-center" data-v-0ff47c49${P}><div class="text-h5" data-v-0ff47c49${P}>Управление системами измерений</div>`),q(o(d,{color:"primary",icon:"add",onClick:He,label:n(u).screen.gt.xs?"Добавить систему":"",round:n(u).screen.xs},null,se,P)),q("</div>"),q(o(Ae,null,{default:l((t,v,h,B)=>{if(v)z.value.length>0?(v(`<div class="q-mt-sm" data-v-0ff47c49${B}>`),v(o(I,{flat:"",bordered:"",class:"bg-blue-1"},{default:l((U,_,F,Y)=>{if(_)_(o(j,{class:"q-pa-sm"},{default:l((S,f,w,x)=>{if(f)f(`<div class="${ul(n(u).screen.xs?"column q-gutter-y-sm":"row items-center justify-between")}" data-v-0ff47c49${x}><span class="text-blue-8 text-body2" data-v-0ff47c49${x}>${J(z.value.length)} выбрано</span><div class="row q-gutter-xs" data-v-0ff47c49${x}>`),f(o(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"green",icon:"star",onClick:pe,loading:T.value,label:"Сделать базовой"},null,w,x)),f(o(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"orange",icon:"star_outline",onClick:Ve,loading:T.value,label:"Убрать базовую"},null,w,x)),f(o(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:T.value,label:"Удалить"},null,w,x)),f("</div></div>");else return[e("div",{class:n(u).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},r(z.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"green",icon:"star",onClick:pe,loading:T.value,label:"Сделать базовой"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"orange",icon:"star_outline",onClick:Ve,loading:T.value,label:"Убрать базовую"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:T.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]}),_:1},F,Y));else return[e(j,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:n(u).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},r(z.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"green",icon:"star",onClick:pe,loading:T.value,label:"Сделать базовой"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"orange",icon:"star_outline",onClick:Ve,loading:T.value,label:"Убрать базовую"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:T.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]}),_:1},h,B)),v("</div>")):v("<!---->");else return[z.value.length>0?($(),C("div",{key:0,class:"q-mt-sm"},[e(I,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(j,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:n(u).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},r(z.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"green",icon:"star",onClick:pe,loading:T.value,label:"Сделать базовой"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"orange",icon:"star_outline",onClick:Ve,loading:T.value,label:"Убрать базовую"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:T.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):V("",!0)]}),_:1},se,P)),q(`</div><div class="q-mb-md" data-v-0ff47c49${P}>`),q(o(ye,{modelValue:qe.value,"onUpdate:modelValue":[t=>qe.value=t,Le],placeholder:"Поиск по названию системы измерений...",clearable:"",outlined:"",dense:"",onClear:Ee},{prepend:l((t,v,h,B)=>{if(v)v(o(N,{name:"search"},null,h,B));else return[e(N,{name:"search"})]}),_:1},se,P)),q("</div>"),n(c).loading?(q(`<div class="flex flex-center q-pa-md" data-v-0ff47c49${P}>`),q(o(Je,{color:"primary",size:"3em"},null,se,P)),q("</div>")):q("<!---->"),!n(c).loading&&n(u).screen.gt.xs?(q(`<div class="desktop-view" data-v-0ff47c49${P}>`),q(o(Ke,{title:"Системы измерений",rows:n(c).measurementSystems,columns:Oe,"row-key":"id",loading:n(c).loading,pagination:n(c).qTablePagination,"onUpdate:pagination":t=>n(c).qTablePagination=t,selected:z.value,"onUpdate:selected":t=>z.value=t,selection:"multiple",onRequest:Ye,onRowClick:Ge,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer measurement-systems-table"},{"body-cell-is_base_system":l((t,v,h,B)=>{if(v)v(o(we,{props:t},{default:l((U,_,F,Y)=>{if(_)_(o(Z,{color:t.row.is_base_system?"green":"grey",icon:t.row.is_base_system?"star":"star_outline","text-color":"white",dense:"",size:"md",clickable:"",onClick:S=>be(t.row)},{default:l((S,f,w,x)=>{if(f)f(`${J(t.row.is_base_system?"Эталонная система":"Базовая система")}`);else return[a(r(t.row.is_base_system?"Эталонная система":"Базовая система"),1)]}),_:2},F,Y));else return[e(Z,{color:t.row.is_base_system?"green":"grey",icon:t.row.is_base_system?"star":"star_outline","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(S=>be(t.row),["stop"])},{default:l(()=>[a(r(t.row.is_base_system?"Эталонная система":"Базовая система"),1)]),_:2},1032,["color","icon","onClick"])]}),_:2},h,B));else return[e(we,{props:t},{default:l(()=>[e(Z,{color:t.row.is_base_system?"green":"grey",icon:t.row.is_base_system?"star":"star_outline","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(U=>be(t.row),["stop"])},{default:l(()=>[a(r(t.row.is_base_system?"Эталонная система":"Базовая система"),1)]),_:2},1032,["color","icon","onClick"])]),_:2},1032,["props"])]}),"body-cell-actions":l((t,v,h,B)=>{if(v)v(o(we,{props:t,class:"text-right"},{default:l((U,_,F,Y)=>{if(_)_(`<div class="row no-wrap q-gutter-xs justify-end" data-v-0ff47c49${Y}>`),_(o(d,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:S=>ue(t.row)},{default:l((S,f,w,x)=>{if(f)f(o(A,null,{default:l((O,D,de,re)=>{if(D)D("Просмотр");else return[a("Просмотр")]}),_:2},w,x));else return[e(A,null,{default:l(()=>[a("Просмотр")]),_:1})]}),_:2},F,Y)),_(o(d,{flat:"",round:"",dense:"",icon:"edit",onClick:S=>ne(t.row)},{default:l((S,f,w,x)=>{if(f)f(o(A,null,{default:l((O,D,de,re)=>{if(D)D("Редактировать");else return[a("Редактировать")]}),_:2},w,x));else return[e(A,null,{default:l(()=>[a("Редактировать")]),_:1})]}),_:2},F,Y)),_(o(d,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:S=>ie(t.row)},{default:l((S,f,w,x)=>{if(f)f(o(A,null,{default:l((O,D,de,re)=>{if(D)D("Удалить");else return[a("Удалить")]}),_:2},w,x));else return[e(A,null,{default:l(()=>[a("Удалить")]),_:1})]}),_:2},F,Y)),_("</div>");else return[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(d,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(S=>ue(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"edit",onClick:G(S=>ne(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(S=>ie(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Удалить")]),_:1})]),_:2},1032,["onClick"])])]}),_:2},h,B));else return[e(we,{props:t,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(d,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(U=>ue(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"edit",onClick:G(U=>ne(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(U=>ie(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]}),"no-data":l(({icon:t,message:v,filter:h},B,U,_)=>{if(B)B(`<div class="full-width row flex-center text-accent q-gutter-sm" data-v-0ff47c49${_}>`),B(o(N,{size:"2em",name:h?"filter_b_and_w":t},null,U,_)),B(`<span data-v-0ff47c49${_}>${J(v)}</span></div>`);else return[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(N,{size:"2em",name:h?"filter_b_and_w":t},null,8,["name"]),e("span",null,r(v),1)])]}),_:1},se,P)),q("</div>")):q("<!---->"),!n(c).loading&&n(u).screen.xs?(q(`<div class="mobile-view" data-v-0ff47c49${P}><div class="row items-center justify-between q-mb-md" data-v-0ff47c49${P}><div class="text-caption text-grey-7" data-v-0ff47c49${P}>Всего: ${J(n(c).totalCount)}</div><div class="row q-gutter-xs" data-v-0ff47c49${P}>`),q(o(d,{flat:"",dense:"",icon:"chevron_left",onClick:n(c).goToPreviousPage,disable:!n(c).hasPrevious},null,se,P)),q(`<span class="text-caption q-px-sm" data-v-0ff47c49${P}>${J(n(c).currentPage)} / ${J(n(c).totalPages)}</span>`),q(o(d,{flat:"",dense:"",icon:"chevron_right",onClick:n(c).goToNextPage,disable:!n(c).hasNext},null,se,P)),q(`</div></div><div class="q-gutter-sm" data-v-0ff47c49${P}><!--[-->`),dl(n(c).measurementSystems,t=>{q(o(We,{key:t.id,class:"measurement-system-card","header-class":z.value.some(v=>v.id===t.id)?"bg-blue-1":""},{header:l((v,h,B,U)=>{if(h)h(`<div class="row items-center full-width no-wrap" data-v-0ff47c49${U}>`),h(o(Be,{"model-value":z.value.some(_=>_.id===t.id),"onUpdate:modelValue":_=>je(t,_),class:"q-mr-sm",onClick:()=>{}},null,B,U)),h(o(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l((_,F,Y,S)=>{if(F)F(o(N,{name:t.is_base_system?"star":"straighten"},null,Y,S));else return[e(N,{name:t.is_base_system?"star":"straighten"},null,8,["name"])]}),_:2},B,U)),h(`<div class="col-grow q-mr-md" data-v-0ff47c49${U}><div class="text-weight-medium" data-v-0ff47c49${U}>${J(t.name)}</div><div class="text-caption text-grey-6" data-v-0ff47c49${U}>${J(t.is_base_system?"Базовая система":"Обычная система")}</div></div>`),h(o(d,{color:t.is_base_system?"green":"grey","text-color":"white",dense:"",size:"sm",onClick:_=>be(t),class:"q-mr-md",icon:t.is_base_system?"star":"star_outline"},null,B,U)),h("</div>");else return[e("div",{class:"row items-center full-width no-wrap"},[e(Be,{"model-value":z.value.some(_=>_.id===t.id),"onUpdate:modelValue":_=>je(t,_),class:"q-mr-sm",onClick:G(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l(()=>[e(N,{name:t.is_base_system?"star":"straighten"},null,8,["name"])]),_:2},1024),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},r(t.name),1),e("div",{class:"text-caption text-grey-6"},r(t.is_base_system?"Базовая система":"Обычная система"),1)]),e(d,{color:t.is_base_system?"green":"grey","text-color":"white",dense:"",size:"sm",onClick:G(_=>be(t),["stop"]),class:"q-mr-md",icon:t.is_base_system?"star":"star_outline"},null,8,["color","onClick","icon"])])]}),default:l((v,h,B,U)=>{if(h)h(o(I,{flat:""},{default:l((_,F,Y,S)=>{if(F)F(o(j,{class:"q-pt-none"},{default:l((f,w,x,O)=>{if(w)w(`<div class="column q-gutter-sm" data-v-0ff47c49${O}>`),w(o(d,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:D=>ue(t),class:"full-width"},null,x,O)),w(`<div class="row q-gutter-sm" data-v-0ff47c49${O}>`),w(o(d,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:D=>ne(t),class:"col"},null,x,O)),w(o(d,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:D=>ie(t),class:"col"},null,x,O)),w("</div></div>");else return[e("div",{class:"column q-gutter-sm"},[e(d,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:D=>ue(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(d,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:D=>ne(t),class:"col"},null,8,["onClick"]),e(d,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:D=>ie(t),class:"col"},null,8,["onClick"])])])]}),_:2},Y,S));else return[e(j,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"column q-gutter-sm"},[e(d,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:f=>ue(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(d,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:f=>ne(t),class:"col"},null,8,["onClick"]),e(d,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:f=>ie(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]}),_:2},B,U));else return[e(I,{flat:""},{default:l(()=>[e(j,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"column q-gutter-sm"},[e(d,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:_=>ue(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(d,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:_=>ne(t),class:"col"},null,8,["onClick"]),e(d,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:_=>ie(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]}),_:2},se,P))}),q("<!--]--></div>"),n(c).measurementSystems.length===0?(q(`<div class="text-center q-pa-lg" data-v-0ff47c49${P}>`),q(o(N,{name:"straighten",size:"4em",color:"grey-4"},null,se,P)),q(`<div class="text-grey-6 q-mt-sm" data-v-0ff47c49${P}>Системы измерений не найдены</div></div>`)):q("<!---->"),q("</div>")):q("<!---->"),q(o(Pe,{modelValue:ge.value,"onUpdate:modelValue":t=>ge.value=t,persistent:"",maximized:n(u).screen.xs},{default:l((t,v,h,B)=>{if(v)v(o(I,{style:n(u).screen.xs?"":"min-width: 400px"},{default:l((U,_,F,Y)=>{if(_)_(o(j,null,{default:l((S,f,w,x)=>{if(f)f(`<div class="text-h6" data-v-0ff47c49${x}>${J(me.value?"Редактировать систему измерений":"Добавить систему измерений")}</div>`);else return[e("div",{class:"text-h6"},r(me.value?"Редактировать систему измерений":"Добавить систему измерений"),1)]}),_:1},F,Y)),_(o(j,{class:"q-pt-none"},{default:l((S,f,w,x)=>{if(f)f(o(ye,{modelValue:p.value.name,"onUpdate:modelValue":O=>p.value.name=O,label:"Название *",autofocus:"",rules:[O=>!!O||"Название обязательно"],"lazy-rules":""},null,w,x)),f(o(he,{modelValue:p.value.is_base_system,"onUpdate:modelValue":O=>p.value.is_base_system=O,label:"Базовая система","left-label":""},null,w,x));else return[e(ye,{modelValue:p.value.name,"onUpdate:modelValue":O=>p.value.name=O,label:"Название *",autofocus:"",rules:[O=>!!O||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(he,{modelValue:p.value.is_base_system,"onUpdate:modelValue":O=>p.value.is_base_system=O,label:"Базовая система","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]}),_:1},F,Y)),_(o(fe,{align:"right"},{default:l((S,f,w,x)=>{if(f)f(o(d,Re({flat:"",label:"Отмена"},Ze(g,oe)),null,w,x)),f(o(d,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:n(c).loading},null,w,x));else return[_e(e(d,{flat:"",label:"Отмена"},null,512),[[oe]]),e(d,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:n(c).loading},null,8,["loading"])]}),_:1},F,Y));else return[e(j,null,{default:l(()=>[e("div",{class:"text-h6"},r(me.value?"Редактировать систему измерений":"Добавить систему измерений"),1)]),_:1}),e(j,{class:"q-pt-none"},{default:l(()=>[e(ye,{modelValue:p.value.name,"onUpdate:modelValue":S=>p.value.name=S,label:"Название *",autofocus:"",rules:[S=>!!S||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(he,{modelValue:p.value.is_base_system,"onUpdate:modelValue":S=>p.value.is_base_system=S,label:"Базовая система","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(fe,{align:"right"},{default:l(()=>[_e(e(d,{flat:"",label:"Отмена"},null,512),[[oe]]),e(d,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:n(c).loading},null,8,["loading"])]),_:1})]}),_:1},h,B));else return[e(I,{style:n(u).screen.xs?"":"min-width: 400px"},{default:l(()=>[e(j,null,{default:l(()=>[e("div",{class:"text-h6"},r(me.value?"Редактировать систему измерений":"Добавить систему измерений"),1)]),_:1}),e(j,{class:"q-pt-none"},{default:l(()=>[e(ye,{modelValue:p.value.name,"onUpdate:modelValue":U=>p.value.name=U,label:"Название *",autofocus:"",rules:[U=>!!U||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(he,{modelValue:p.value.is_base_system,"onUpdate:modelValue":U=>p.value.is_base_system=U,label:"Базовая система","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(fe,{align:"right"},{default:l(()=>[_e(e(d,{flat:"",label:"Отмена"},null,512),[[oe]]),e(d,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:n(c).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]}),_:1},se,P)),q(o(Pe,{modelValue:ce.value,"onUpdate:modelValue":t=>ce.value=t,maximized:n(u).screen.xs},{default:l((t,v,h,B)=>{if(v)v(o(I,{style:n(u).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l((U,_,F,Y)=>{if(_)_(o(j,{class:"row items-center q-pb-none"},{default:l((S,f,w,x)=>{if(f)f(`<div class="text-h6" data-v-0ff47c49${x}>Детали системы измерений</div>`),f(o(Ue,null,null,w,x)),f(o(d,Re({icon:"close",flat:"",round:"",dense:""},Ze(g,oe)),null,w,x));else return[e("div",{class:"text-h6"},"Детали системы измерений"),e(Ue),_e(e(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[oe]])]}),_:1},F,Y)),s.value?_(o(j,null,{default:l((S,f,w,x)=>{if(f)f(o(De,null,{default:l((O,D,de,re)=>{if(D)D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,{avatar:""},{default:l((ke,M,L,E)=>{if(M)M(o(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l((te,b,W,X)=>{if(b)b(o(N,{name:s.value.is_base_system?"star":"straighten"},null,W,X));else return[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]}),_:1},L,E));else return[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]}),_:1},ee,le)),Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Название");else return[a("Название")]}),_:1},L,E)),M(o(i,{caption:"",class:"text-body1"},{default:l((te,b,W,X)=>{if(b)b(`${J(s.value.name)}`);else return[a(r(s.value.name),1)]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]}),_:1},ee,le));else return[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]}),_:1},de,re)),D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Тип системы");else return[a("Тип системы")]}),_:1},L,E)),M(o(i,{caption:""},{default:l((te,b,W,X)=>{if(b)b(o(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l((_l,Xe,gl,bl)=>{if(Xe)Xe(`${J(s.value.is_base_system?"Базовая система":"Обычная система")}`);else return[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]}),_:1},W,X));else return[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]}),_:1},ee,le));else return[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]}),_:1},de,re)),s.value.site?D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Сайт");else return[a("Сайт")]}),_:1},L,E)),M(o(i,{caption:"",class:"text-body1"},{default:l((te,b,W,X)=>{if(b)b(`${J(s.value.site)}`);else return[a(r(s.value.site),1)]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]}),_:1},ee,le));else return[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]}),_:1},de,re)):D("<!---->"),s.value.creator?D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Создатель");else return[a("Создатель")]}),_:1},L,E)),M(o(i,{caption:"",class:"text-body1"},{default:l((te,b,W,X)=>{if(b)b(`${J(s.value.creator.email)}`);else return[a(r(s.value.creator.email),1)]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]}),_:1},ee,le));else return[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]}),_:1},de,re)):D("<!---->"),s.value.created?D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Дата создания");else return[a("Дата создания")]}),_:1},L,E)),M(o(i,{caption:"",class:"text-body1"},{default:l((te,b,W,X)=>{if(b)b(`${J(H(s.value.created))}`);else return[a(r(H(s.value.created)),1)]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]}),_:1},ee,le));else return[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]}),_:1},de,re)):D("<!---->"),s.value.updated?D(o(y,null,{default:l((Me,Q,ee,le)=>{if(Q)Q(o(m,null,{default:l((ke,M,L,E)=>{if(M)M(o(i,{class:"text-weight-medium"},{default:l((te,b,W,X)=>{if(b)b("Дата обновления");else return[a("Дата обновления")]}),_:1},L,E)),M(o(i,{caption:"",class:"text-body1"},{default:l((te,b,W,X)=>{if(b)b(`${J(H(s.value.updated))}`);else return[a(r(H(s.value.updated)),1)]}),_:1},L,E));else return[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]}),_:1},ee,le));else return[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]}),_:1},de,re)):D("<!---->");else return[e(y,null,{default:l(()=>[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),s.value.site?($(),C(y,{key:0},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.creator?($(),C(y,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.created?($(),C(y,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.updated?($(),C(y,{key:3},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]),_:1})):V("",!0)]}),_:1},w,x));else return[e(De,null,{default:l(()=>[e(y,null,{default:l(()=>[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),s.value.site?($(),C(y,{key:0},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.creator?($(),C(y,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.created?($(),C(y,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.updated?($(),C(y,{key:3},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]),_:1})):V("",!0)]),_:1})]}),_:1},F,Y)):_("<!---->"),_(o(fe,{align:"right",class:"q-pa-md"},{default:l((S,f,w,x)=>{if(f)f(o(d,{label:n(u).screen.xs?"":"Редактировать",color:"primary",onClick:ze,icon:"edit",round:n(u).screen.xs},null,w,x)),f(o(d,{label:n(u).screen.xs?"":"Удалить",color:"negative",onClick:Se,icon:"delete",round:n(u).screen.xs},null,w,x));else return[e(d,{label:n(u).screen.xs?"":"Редактировать",color:"primary",onClick:ze,icon:"edit",round:n(u).screen.xs},null,8,["label","round"]),e(d,{label:n(u).screen.xs?"":"Удалить",color:"negative",onClick:Se,icon:"delete",round:n(u).screen.xs},null,8,["label","round"])]}),_:1},F,Y));else return[e(j,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали системы измерений"),e(Ue),_e(e(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[oe]])]),_:1}),s.value?($(),C(j,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(y,null,{default:l(()=>[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),s.value.site?($(),C(y,{key:0},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.creator?($(),C(y,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.created?($(),C(y,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.updated?($(),C(y,{key:3},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1})):V("",!0),e(fe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(d,{label:n(u).screen.xs?"":"Редактировать",color:"primary",onClick:ze,icon:"edit",round:n(u).screen.xs},null,8,["label","round"]),e(d,{label:n(u).screen.xs?"":"Удалить",color:"negative",onClick:Se,icon:"delete",round:n(u).screen.xs},null,8,["label","round"])]),_:1})]}),_:1},h,B));else return[e(I,{style:n(u).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(j,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали системы измерений"),e(Ue),_e(e(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[oe]])]),_:1}),s.value?($(),C(j,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(y,null,{default:l(()=>[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),s.value.site?($(),C(y,{key:0},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.creator?($(),C(y,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.created?($(),C(y,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.updated?($(),C(y,{key:3},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1})):V("",!0),e(fe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(d,{label:n(u).screen.xs?"":"Редактировать",color:"primary",onClick:ze,icon:"edit",round:n(u).screen.xs},null,8,["label","round"]),e(d,{label:n(u).screen.xs?"":"Удалить",color:"negative",onClick:Se,icon:"delete",round:n(u).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]}),_:1},se,P));else return[e("div",{class:"q-mb-md"},[e("div",{class:"row justify-between items-center"},[e("div",{class:"text-h5"},"Управление системами измерений"),e(d,{color:"primary",icon:"add",onClick:He,label:n(u).screen.gt.xs?"Добавить систему":"",round:n(u).screen.xs},null,8,["label","round"])]),e(Ae,null,{default:l(()=>[z.value.length>0?($(),C("div",{key:0,class:"q-mt-sm"},[e(I,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(j,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:n(u).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},r(z.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"green",icon:"star",onClick:pe,loading:T.value,label:"Сделать базовой"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"orange",icon:"star_outline",onClick:Ve,loading:T.value,label:"Убрать базовую"},null,8,["dense","size","loading"]),e(d,{dense:n(u).screen.xs,size:(n(u).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:T.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):V("",!0)]),_:1})]),e("div",{class:"q-mb-md"},[e(ye,{modelValue:qe.value,"onUpdate:modelValue":[t=>qe.value=t,Le],placeholder:"Поиск по названию системы измерений...",clearable:"",outlined:"",dense:"",onClear:Ee},{prepend:l(()=>[e(N,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),n(c).loading?($(),C("div",{key:0,class:"flex flex-center q-pa-md"},[e(Je,{color:"primary",size:"3em"})])):V("",!0),!n(c).loading&&n(u).screen.gt.xs?($(),C("div",{key:1,class:"desktop-view"},[e(Ke,{title:"Системы измерений",rows:n(c).measurementSystems,columns:Oe,"row-key":"id",loading:n(c).loading,pagination:n(c).qTablePagination,"onUpdate:pagination":t=>n(c).qTablePagination=t,selected:z.value,"onUpdate:selected":t=>z.value=t,selection:"multiple",onRequest:Ye,onRowClick:Ge,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer measurement-systems-table"},{"body-cell-is_base_system":l(t=>[e(we,{props:t},{default:l(()=>[e(Z,{color:t.row.is_base_system?"green":"grey",icon:t.row.is_base_system?"star":"star_outline","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(v=>be(t.row),["stop"])},{default:l(()=>[a(r(t.row.is_base_system?"Эталонная система":"Базовая система"),1)]),_:2},1032,["color","icon","onClick"])]),_:2},1032,["props"])]),"body-cell-actions":l(t=>[e(we,{props:t,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(d,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(v=>ue(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"edit",onClick:G(v=>ne(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(d,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(v=>ie(t.row),["stop"])},{default:l(()=>[e(A,null,{default:l(()=>[a("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"no-data":l(({icon:t,message:v,filter:h})=>[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(N,{size:"2em",name:h?"filter_b_and_w":t},null,8,["name"]),e("span",null,r(v),1)])]),_:1},8,["rows","loading","pagination","onUpdate:pagination","selected","onUpdate:selected"])])):V("",!0),!n(c).loading&&n(u).screen.xs?($(),C("div",{key:2,class:"mobile-view"},[e("div",{class:"row items-center justify-between q-mb-md"},[e("div",{class:"text-caption text-grey-7"},"Всего: "+r(n(c).totalCount),1),e("div",{class:"row q-gutter-xs"},[e(d,{flat:"",dense:"",icon:"chevron_left",onClick:n(c).goToPreviousPage,disable:!n(c).hasPrevious},null,8,["onClick","disable"]),e("span",{class:"text-caption q-px-sm"},r(n(c).currentPage)+" / "+r(n(c).totalPages),1),e(d,{flat:"",dense:"",icon:"chevron_right",onClick:n(c).goToNextPage,disable:!n(c).hasNext},null,8,["onClick","disable"])])]),e("div",{class:"q-gutter-sm"},[($(!0),C(nl,null,il(n(c).measurementSystems,t=>($(),C(We,{key:t.id,class:"measurement-system-card","header-class":z.value.some(v=>v.id===t.id)?"bg-blue-1":""},{header:l(()=>[e("div",{class:"row items-center full-width no-wrap"},[e(Be,{"model-value":z.value.some(v=>v.id===t.id),"onUpdate:modelValue":v=>je(t,v),class:"q-mr-sm",onClick:G(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l(()=>[e(N,{name:t.is_base_system?"star":"straighten"},null,8,["name"])]),_:2},1024),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},r(t.name),1),e("div",{class:"text-caption text-grey-6"},r(t.is_base_system?"Базовая система":"Обычная система"),1)]),e(d,{color:t.is_base_system?"green":"grey","text-color":"white",dense:"",size:"sm",onClick:G(v=>be(t),["stop"]),class:"q-mr-md",icon:t.is_base_system?"star":"star_outline"},null,8,["color","onClick","icon"])])]),default:l(()=>[e(I,{flat:""},{default:l(()=>[e(j,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"column q-gutter-sm"},[e(d,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:v=>ue(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(d,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:v=>ne(t),class:"col"},null,8,["onClick"]),e(d,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:v=>ie(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))]),n(c).measurementSystems.length===0?($(),C("div",{key:0,class:"text-center q-pa-lg"},[e(N,{name:"straighten",size:"4em",color:"grey-4"}),e("div",{class:"text-grey-6 q-mt-sm"},"Системы измерений не найдены")])):V("",!0)])):V("",!0),e(Pe,{modelValue:ge.value,"onUpdate:modelValue":t=>ge.value=t,persistent:"",maximized:n(u).screen.xs},{default:l(()=>[e(I,{style:n(u).screen.xs?"":"min-width: 400px"},{default:l(()=>[e(j,null,{default:l(()=>[e("div",{class:"text-h6"},r(me.value?"Редактировать систему измерений":"Добавить систему измерений"),1)]),_:1}),e(j,{class:"q-pt-none"},{default:l(()=>[e(ye,{modelValue:p.value.name,"onUpdate:modelValue":t=>p.value.name=t,label:"Название *",autofocus:"",rules:[t=>!!t||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(he,{modelValue:p.value.is_base_system,"onUpdate:modelValue":t=>p.value.is_base_system=t,label:"Базовая система","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(fe,{align:"right"},{default:l(()=>[_e(e(d,{flat:"",label:"Отмена"},null,512),[[oe]]),e(d,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:n(c).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"]),e(Pe,{modelValue:ce.value,"onUpdate:modelValue":t=>ce.value=t,maximized:n(u).screen.xs},{default:l(()=>[e(I,{style:n(u).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(j,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали системы измерений"),e(Ue),_e(e(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[oe]])]),_:1}),s.value?($(),C(j,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(y,null,{default:l(()=>[e(m,{avatar:""},{default:l(()=>[e(ae,{color:s.value.is_base_system?"green":"primary","text-color":"white"},{default:l(()=>[e(N,{name:s.value.is_base_system?"star":"straighten"},null,8,["name"])]),_:1},8,["color"])]),_:1}),e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Название")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.name),1)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Тип системы")]),_:1}),e(i,{caption:""},{default:l(()=>[e(Z,{color:s.value.is_base_system?"green":"grey","text-color":"white",size:"sm"},{default:l(()=>[a(r(s.value.is_base_system?"Базовая система":"Обычная система"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),s.value.site?($(),C(y,{key:0},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Сайт")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.site),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.creator?($(),C(y,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Создатель")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(s.value.creator.email),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.created?($(),C(y,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата создания")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.created)),1)]),_:1})]),_:1})]),_:1})):V("",!0),s.value.updated?($(),C(y,{key:3},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{class:"text-weight-medium"},{default:l(()=>[a("Дата обновления")]),_:1}),e(i,{caption:"",class:"text-body1"},{default:l(()=>[a(r(H(s.value.updated)),1)]),_:1})]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1})):V("",!0),e(fe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(d,{label:n(u).screen.xs?"":"Редактировать",color:"primary",onClick:ze,icon:"edit",round:n(u).screen.xs},null,8,["label","round"]),e(d,{label:n(u).screen.xs?"":"Удалить",color:"negative",onClick:Se,icon:"delete",round:n(u).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"])]}),_:1},K))}}}),Ie=Ne.setup;Ne.setup=(Fe,u)=>{const c=ol();return(c.modules||(c.modules=new Set)).add("src/pages/MeasurementSystemPage.vue"),Ie?Ie(Fe,u):void 0};const hl=fl(Ne,[["__scopeId","data-v-0ff47c49"]]);export{hl as default};
