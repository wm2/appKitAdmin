import{ref as se,computed as De,defineComponent as vl,onMounted as _l,watch as gl,resolveComponent as W,resolveDirective as yl,mergeProps as Ze,withCtx as l,unref as u,createTextVNode as t,toDisplayString as i,createVNode as e,createBlock as z,createCommentVNode as P,openBlock as V,withModifiers as ge,withDirectives as Ue,Fragment as bl,renderList as xl,useSSRContext as pl}from"vue";import{ssrRenderComponent as s,ssrInterpolate as G,ssrRenderClass as wl,ssrRenderList as ql,ssrGetDirectiveProps as rl}from"vue/server-renderer";import{defineStore as kl}from"pinia";import{a as Me}from"../server-entry.js";import{Notify as re,useQuasar as hl,Dialog as dl,date as $l}from"quasar";import{u as Cl}from"./usePagination-CZ7Hsnrr.js";import{u as zl}from"./size-charts.store-BPleJOnW.js";import{u as Vl}from"./measurement-systems.store-C6bs5xfy.js";import{_ as Sl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"quasar/wrappers";import"vue-router";import"axios";const Pl="2d7dd621-7a0c-4be8-ac04-46ec289dd34d",Ul=kl("sizes",()=>{const Ne=se([]),m=se(null),d=se(""),ae=De(()=>Pl),j=Cl(async(T,R)=>{if(!ae.value)throw new Error("VITE_SITE_ID не определен.");if(!d.value)throw new Error("ID размерной сетки не определен.");try{let O,ee={};T?O=T:(O=`/sites/${ae.value}/size-charts/${d.value}/sizes/`,ee=Object.entries(R||{}).reduce((Ee,[he,Oe])=>(Oe!==void 0&&(Ee[he]=Oe),Ee),{}));const{data:ve}=await Me.get(O,{params:T?{}:ee});return Ne.value=ve.results,ve}catch(O){throw ue(O,"Не удалось загрузить список размеров."),O}},{defaultPageSize:10,defaultSortBy:"value",defaultDescending:!1});function ue(T,R){console.error(R,T);let O=R;const ee=T.response?.data;if(typeof ee=="string"?O=ee:ee?.detail?O=ee.detail:ee?.message?O=ee.message:T.message&&(O=T.message),ee&&typeof ee=="object"&&!ee.detail&&!ee.message){const ve=Object.entries(ee).map(([Ee,he])=>`${Ee}: ${Array.isArray(he)?he.join(", "):String(he)}`).join("; ");ve&&(O=ve)}re.create({type:"negative",message:O,timeout:5e3})}function ye(T){d.value=T}async function o(T){return j.fetchData(T)}async function ze(T){if(!ae.value)return re.create({type:"negative",message:"VITE_SITE_ID не определен."}),null;if(!d.value)return re.create({type:"negative",message:"ID размерной сетки не определен."}),null;try{const{data:R}=await Me.get(`/sites/${ae.value}/size-charts/${d.value}/sizes/${T}/`);return m.value=R,R}catch(R){return ue(R,"Не удалось загрузить данные размера."),m.value=null,null}}async function B(T){if(!ae.value)return re.create({type:"negative",message:"VITE_SITE_ID не определен."}),null;if(!d.value)return re.create({type:"negative",message:"ID размерной сетки не определен."}),null;try{const{data:R}=await Me.post(`/sites/${ae.value}/size-charts/${d.value}/sizes/`,T);return re.create({type:"positive",message:`Размер "${R.value}" успешно создан.`}),await o(),R}catch(R){return ue(R,"Ошибка при создании размера."),null}}async function qe(T,R){if(!ae.value)return re.create({type:"negative",message:"VITE_SITE_ID не определен."}),null;if(!d.value)return re.create({type:"negative",message:"ID размерной сетки не определен."}),null;try{const{data:O}=await Me.put(`/sites/${ae.value}/size-charts/${d.value}/sizes/${T}/`,R);return re.create({type:"positive",message:`Размер "${O.value}" успешно обновлен.`}),await o(),m.value?.id===T&&await ze(T),O}catch(O){return ue(O,"Ошибка при обновлении размера."),null}}async function J(T){if(!ae.value)return re.create({type:"negative",message:"VITE_SITE_ID не определен."}),!1;if(!d.value)return re.create({type:"negative",message:"ID размерной сетки не определен."}),!1;try{return await Me.delete(`/sites/${ae.value}/size-charts/${d.value}/sizes/${T}/`),re.create({type:"positive",message:"Размер успешно удален."}),await o(),m.value?.id===T&&(m.value=null),!0}catch(R){return ue(R,"Ошибка при удалении размера."),!1}}function je(){m.value=null}async function Re(T){if(!ae.value)return re.create({type:"negative",message:"VITE_SITE_ID не определен."}),!1;if(!d.value)return re.create({type:"negative",message:"ID размерной сетки не определен."}),!1;try{return await Promise.all(T.map(R=>Me.delete(`/sites/${ae.value}/size-charts/${d.value}/sizes/${R}/`))),re.create({type:"positive",message:`Успешно удалено ${T.length} размеров.`}),await o(),!0}catch(R){return ue(R,"Ошибка при массовом удалении размеров."),!1}}async function Ve(T){return j.setSearch(T),await j.fetchData()}async function ke(T){return Object.entries(T).forEach(([R,O])=>{j.setFilter(R,O)}),await j.fetchData()}async function w(){return j.clearFilters(),await j.fetchData()}function Te(){Ne.value=[],m.value=null,d.value="",j.clearFilters()}return{sizes:Ne,selectedSize:m,currentSizeChartId:d,loading:j.loading,currentPage:De(()=>j.currentPage.value),pageSize:De(()=>j.pageSize.value),totalCount:De(()=>j.totalCount.value),totalPages:De(()=>j.totalPages.value),hasNext:De(()=>j.hasNext.value),hasPrevious:De(()=>j.hasPrevious.value),qTablePagination:j.qTablePagination,setSizeChartId:ye,fetchSizes:o,fetchSizeById:ze,createSize:B,updateSize:qe,deleteSize:J,clearSelectedSize:je,searchSizes:Ve,filterSizes:ke,clearFilters:w,bulkDeleteSizes:Re,clearState:Te,goToPage:j.goToPage,goToNextPage:j.goToNextPage,goToPreviousPage:j.goToPreviousPage,handleTableRequest:j.handleTableRequest}}),Ie=vl({__name:"SizesPage",__ssrInlineRender:!0,setup(Ne){const m=hl(),d=Ul(),ae=zl(),Ge=Vl(),j=se(!1),ue=se(!1),ye=se(!1),o=se(null),ze=se(""),B=se([]),qe=se(!1),J=se(""),je=se([]),Re=se(!1),Ve=se([]),ke=se(!1),w=se({value:"",measurement_system:"",base_value:""}),Te=De(()=>je.value.find(y=>y.id===J.value)),T=[{name:"value",required:!0,label:"Значение",align:"left",field:"value",sortable:!0},{name:"base_value",label:"Эталонное значение",field:"base_value",align:"left",sortable:!0},{name:"measurement_system",label:"Система измерений",field:"measurement_system",align:"left",sortable:!1},{name:"actions",label:"Действия",field:"id",align:"right"}];async function R(y=""){Re.value=!0;try{y?await ae.filterSizeCharts({name:y}):await ae.fetchSizeCharts(),je.value=ae.sizeCharts}catch(D){console.error("Error loading size charts:",D)}finally{Re.value=!1}}async function O(y=""){ke.value=!0;try{y?await Ge.filterMeasurementSystems({name:y}):await Ge.fetchMeasurementSystems(),Ve.value=Ge.measurementSystems}catch(D){console.error("Error loading measurement systems:",D)}finally{ke.value=!1}}function ee(y,D){D(()=>{y===""?R():R(y)})}function ve(y,D){D(()=>{y===""?O():O(y)})}async function Ee(y){y?(d.setSizeChartId(y),B.value=[],await d.fetchSizes()):d.clearState()}function he(y,D){D?B.value.some(pe=>pe.id===y.id)||B.value.push(y):B.value=B.value.filter(pe=>pe.id!==y.id)}async function Oe(y){y.pagination&&await d.handleTableRequest(y)}async function el(y){const D=y?String(y).trim():"";D.length>=1?await d.filterSizes({value:D}):D.length===0&&await d.clearFilters()}async function ll(){ze.value="",await d.clearFilters()}async function $e(y){const D=await d.fetchSizeById(y.id);D&&(o.value=D,ue.value=!0)}async function tl(){ye.value=!1,w.value={value:"",measurement_system:"",base_value:""},await O(),j.value=!0}async function be(y){ye.value=!0;const D=await d.fetchSizeById(y.id);D?w.value={id:D.id,value:D.value,measurement_system:D.measurement_system,base_value:D.base_value}:w.value={id:y.id,value:y.value,measurement_system:y.measurement_system,base_value:y.base_value},await O(),j.value=!0}async function Le(){if(!w.value.value){m.notify({type:"negative",message:"Значение размера обязательно."});return}if(!w.value.base_value){m.notify({type:"negative",message:"Эталонное значение обязательно."});return}if(!w.value.measurement_system){m.notify({type:"negative",message:"Система измерений обязательна."});return}const y={value:w.value.value,measurement_system:w.value.measurement_system,base_value:w.value.base_value};let D=!1;ye.value&&w.value.id?await d.updateSize(w.value.id,y)&&(D=!0):await d.createSize(y)&&(D=!0),D&&(j.value=!1)}function Ye(){dl.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить ${B.value.length} элементов?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{ml()})}async function ml(){qe.value=!0;try{await d.bulkDeleteSizes(B.value.map(D=>D.id))&&(B.value=[])}finally{qe.value=!1}}function xe(y){dl.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить размер "${y.value}"?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{d.deleteSize(y.id).catch(D=>{m.notify({type:"negative",message:"Ошибка при удалении размера"}),console.error("Delete size error:",D)})})}async function al(y,D){const pe=y.target;if(pe.closest(".q-btn")||pe.closest("button"))return;const Je=await d.fetchSizeById(D.id);Je&&(o.value=Je,ue.value=!0)}async function Ae(){o.value&&(ue.value=!1,await be(o.value))}function He(){o.value&&(ue.value=!1,xe(o.value))}function Z(y){return $l.formatDate(y,"DD.MM.YYYY HH:mm")}return _l(async()=>{await R()}),gl(()=>J.value,y=>{y||d.clearState()}),(y,D,pe,Je)=>{const fl=W("q-page"),f=W("q-btn"),K=W("q-chip"),nl=W("q-slide-transition"),me=W("q-card"),Q=W("q-card-section"),Fe=W("q-select"),x=W("q-icon"),_=W("q-item"),r=W("q-item-section"),n=W("q-item-label"),fe=W("q-input"),il=W("q-spinner"),sl=W("q-table"),Be=W("q-td"),oe=W("q-tooltip"),ul=W("q-expansion-item"),Xe=W("q-checkbox"),_e=W("q-avatar"),Ke=W("q-dialog"),Se=W("q-card-actions"),Qe=W("q-space"),We=W("q-list"),we=yl("close-popup");D(s(fl,Ze({padding:""},Je),{default:l((Dl,q,de,E)=>{if(q)q(`<div class="q-mb-md" data-v-7c1a650f${E}><div class="row justify-between items-center" data-v-7c1a650f${E}><div class="text-h5" data-v-7c1a650f${E}>Управление размерами</div>`),q(s(f,{color:"primary",icon:"add",onClick:tl,label:u(m).screen.gt.xs?"Добавить размер":"",round:u(m).screen.xs,disable:!J.value},null,de,E)),q("</div>"),Te.value?(q(`<div class="q-mt-sm" data-v-7c1a650f${E}>`),q(s(K,{color:"primary","text-color":"white",icon:"grid_on",size:"md"},{default:l((a,g,F,N)=>{if(g)g(`${G(Te.value.name)}`);else return[t(i(Te.value.name),1)]}),_:1},de,E)),q("</div>")):q("<!---->"),q(s(nl,null,{default:l((a,g,F,N)=>{if(g)B.value.length>0?(g(`<div class="q-mt-sm" data-v-7c1a650f${N}>`),g(s(me,{flat:"",bordered:"",class:"bg-blue-1"},{default:l((S,b,M,L)=>{if(b)b(s(Q,{class:"q-pa-sm"},{default:l((k,v,$,C)=>{if(v)v(`<div class="${wl(u(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between")}" data-v-7c1a650f${C}><span class="text-blue-8 text-body2" data-v-7c1a650f${C}>${G(B.value.length)} выбрано</span><div class="row q-gutter-xs" data-v-7c1a650f${C}>`),v(s(f,{dense:u(m).screen.xs,size:(u(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ye,loading:qe.value,label:"Удалить"},null,$,C)),v("</div></div>");else return[e("div",{class:u(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(B.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(f,{dense:u(m).screen.xs,size:(u(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ye,loading:qe.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]}),_:1},M,L));else return[e(Q,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:u(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(B.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(f,{dense:u(m).screen.xs,size:(u(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ye,loading:qe.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]}),_:1},F,N)),g("</div>")):g("<!---->");else return[B.value.length>0?(V(),z("div",{key:0,class:"q-mt-sm"},[e(me,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(Q,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:u(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(B.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(f,{dense:u(m).screen.xs,size:(u(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ye,loading:qe.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):P("",!0)]}),_:1},de,E)),q(`</div><div class="q-mb-md" data-v-7c1a650f${E}>`),q(s(Fe,{modelValue:J.value,"onUpdate:modelValue":[a=>J.value=a,Ee],options:je.value,"option-label":"name","option-value":"id",label:"Размерная сетка *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:Re.value,onFilter:ee,class:"q-mb-md"},{prepend:l((a,g,F,N)=>{if(g)g(s(x,{name:"grid_on"},null,F,N));else return[e(x,{name:"grid_on"})]}),"no-option":l((a,g,F,N)=>{if(g)g(s(_,null,{default:l((S,b,M,L)=>{if(b)b(s(r,{class:"text-grey"},{default:l((k,v,$,C)=>{if(v)v(" Размерные сетки не найдены ");else return[t(" Размерные сетки не найдены ")]}),_:1},M,L));else return[e(r,{class:"text-grey"},{default:l(()=>[t(" Размерные сетки не найдены ")]),_:1})]}),_:1},F,N));else return[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Размерные сетки не найдены ")]),_:1})]),_:1})]}),option:l((a,g,F,N)=>{if(g)g(s(_,a.itemProps,{default:l((S,b,M,L)=>{if(b)b(s(r,{avatar:""},{default:l((k,v,$,C)=>{if(v)v(s(x,{name:"grid_on",color:"primary"},null,$,C));else return[e(x,{name:"grid_on",color:"primary"})]}),_:2},M,L)),b(s(r,null,{default:l((k,v,$,C)=>{if(v)v(s(n,null,{default:l((c,h,X,I)=>{if(h)h(`${G(a.opt.name)}`);else return[t(i(a.opt.name),1)]}),_:2},$,C)),a.opt.description?v(s(n,{caption:""},{default:l((c,h,X,I)=>{if(h)h(`${G(a.opt.description)}`);else return[t(i(a.opt.description),1)]}),_:2},$,C)):v("<!---->");else return[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):P("",!0)]}),_:2},M,L));else return[e(r,{avatar:""},{default:l(()=>[e(x,{name:"grid_on",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]}),_:2},F,N));else return[e(_,a.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"grid_on",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]}),_:1},de,E)),q("</div>"),J.value?(q(`<div class="q-mb-md" data-v-7c1a650f${E}>`),q(s(fe,{modelValue:ze.value,"onUpdate:modelValue":[a=>ze.value=a,el],placeholder:"Поиск по значению размера...",clearable:"",outlined:"",dense:"",onClear:ll},{prepend:l((a,g,F,N)=>{if(g)g(s(x,{name:"search"},null,F,N));else return[e(x,{name:"search"})]}),_:1},de,E)),q("</div>")):q("<!---->"),J.value?q("<!---->"):(q(`<div class="text-center q-pa-lg" data-v-7c1a650f${E}>`),q(s(x,{name:"grid_on",size:"4em",color:"grey-4"},null,de,E)),q(`<div class="text-grey-6 q-mt-sm" data-v-7c1a650f${E}>Выберите размерную сетку для просмотра размеров</div></div>`)),u(d).loading&&J.value?(q(`<div class="flex flex-center q-pa-md" data-v-7c1a650f${E}>`),q(s(il,{color:"primary",size:"3em"},null,de,E)),q("</div>")):q("<!---->"),!u(d).loading&&J.value&&u(m).screen.gt.xs?(q(`<div class="desktop-view" data-v-7c1a650f${E}>`),q(s(sl,{title:"Размеры",rows:u(d).sizes,columns:T,"row-key":"id",loading:u(d).loading,pagination:u(d).qTablePagination,"onUpdate:pagination":a=>u(d).qTablePagination=a,selected:B.value,"onUpdate:selected":a=>B.value=a,selection:"multiple",onRequest:Oe,onRowClick:al,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer sizes-table"},{"body-cell-measurement_system":l((a,g,F,N)=>{if(g)g(s(Be,{props:a},{default:l((S,b,M,L)=>{if(b)b(s(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l((k,v,$,C)=>{if(v)v(`${G(a.row.measurement_system)}`);else return[t(i(a.row.measurement_system),1)]}),_:2},M,L));else return[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.row.measurement_system),1)]),_:2},1024)]}),_:2},F,N));else return[e(Be,{props:a},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.row.measurement_system),1)]),_:2},1024)]),_:2},1032,["props"])]}),"body-cell-actions":l((a,g,F,N)=>{if(g)g(s(Be,{props:a,class:"text-right"},{default:l((S,b,M,L)=>{if(b)b(`<div class="row no-wrap q-gutter-xs justify-end" data-v-7c1a650f${L}>`),b(s(f,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:k=>$e(a.row)},{default:l((k,v,$,C)=>{if(v)v(s(oe,null,{default:l((c,h,X,I)=>{if(h)h("Просмотр");else return[t("Просмотр")]}),_:2},$,C));else return[e(oe,null,{default:l(()=>[t("Просмотр")]),_:1})]}),_:2},M,L)),b(s(f,{flat:"",round:"",dense:"",icon:"edit",onClick:k=>be(a.row)},{default:l((k,v,$,C)=>{if(v)v(s(oe,null,{default:l((c,h,X,I)=>{if(h)h("Редактировать");else return[t("Редактировать")]}),_:2},$,C));else return[e(oe,null,{default:l(()=>[t("Редактировать")]),_:1})]}),_:2},M,L)),b(s(f,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:k=>xe(a.row)},{default:l((k,v,$,C)=>{if(v)v(s(oe,null,{default:l((c,h,X,I)=>{if(h)h("Удалить");else return[t("Удалить")]}),_:2},$,C));else return[e(oe,null,{default:l(()=>[t("Удалить")]),_:1})]}),_:2},M,L)),b("</div>");else return[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(f,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ge(k=>$e(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"edit",onClick:ge(k=>be(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ge(k=>xe(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]}),_:2},F,N));else return[e(Be,{props:a,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(f,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ge(S=>$e(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"edit",onClick:ge(S=>be(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ge(S=>xe(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]}),"no-data":l(({icon:a,message:g,filter:F},N,S,b)=>{if(N)N(`<div class="full-width row flex-center text-accent q-gutter-sm" data-v-7c1a650f${b}>`),N(s(x,{size:"2em",name:F?"filter_b_and_w":a},null,S,b)),N(`<span data-v-7c1a650f${b}>${G(g)}</span></div>`);else return[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(x,{size:"2em",name:F?"filter_b_and_w":a},null,8,["name"]),e("span",null,i(g),1)])]}),_:1},de,E)),q("</div>")):q("<!---->"),!u(d).loading&&J.value&&u(m).screen.xs?(q(`<div class="mobile-view" data-v-7c1a650f${E}><div class="row items-center justify-between q-mb-md" data-v-7c1a650f${E}><div class="text-caption text-grey-7" data-v-7c1a650f${E}>Всего: ${G(u(d).totalCount)}</div><div class="row q-gutter-xs" data-v-7c1a650f${E}>`),q(s(f,{flat:"",dense:"",icon:"chevron_left",onClick:u(d).goToPreviousPage,disable:!u(d).hasPrevious},null,de,E)),q(`<span class="text-caption q-px-sm" data-v-7c1a650f${E}>${G(u(d).currentPage)} / ${G(u(d).totalPages)}</span>`),q(s(f,{flat:"",dense:"",icon:"chevron_right",onClick:u(d).goToNextPage,disable:!u(d).hasNext},null,de,E)),q(`</div></div><div class="q-gutter-sm" data-v-7c1a650f${E}><!--[-->`),ql(u(d).sizes,a=>{q(s(ul,{key:a.id,class:"size-card","header-class":B.value.some(g=>g.id===a.id)?"bg-blue-1":""},{header:l((g,F,N,S)=>{if(F)F(`<div class="row items-center full-width no-wrap" data-v-7c1a650f${S}>`),F(s(Xe,{"model-value":B.value.some(b=>b.id===a.id),"onUpdate:modelValue":b=>he(a,b),class:"q-mr-sm",onClick:()=>{}},null,N,S)),F(s(_e,{size:"40px",class:"q-mr-md bg-teal text-white"},{default:l((b,M,L,k)=>{if(M)M(s(x,{name:"photo_size_select_small"},null,L,k));else return[e(x,{name:"photo_size_select_small"})]}),_:2},N,S)),F(`<div class="col-grow q-mr-md" data-v-7c1a650f${S}><div class="text-weight-medium text-h6" data-v-7c1a650f${S}>${G(a.value)}</div><div class="text-caption text-grey-6" data-v-7c1a650f${S}>${G(a.measurement_system)} • Эталон: ${G(a.base_value)}</div></div></div>`);else return[e("div",{class:"row items-center full-width no-wrap"},[e(Xe,{"model-value":B.value.some(b=>b.id===a.id),"onUpdate:modelValue":b=>he(a,b),class:"q-mr-sm",onClick:ge(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(_e,{size:"40px",class:"q-mr-md bg-teal text-white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1}),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium text-h6"},i(a.value),1),e("div",{class:"text-caption text-grey-6"},i(a.measurement_system)+" • Эталон: "+i(a.base_value),1)])])]}),default:l((g,F,N,S)=>{if(F)F(s(me,{flat:""},{default:l((b,M,L,k)=>{if(M)M(s(Q,{class:"q-pt-none"},{default:l((v,$,C,c)=>{if($)$(`<div class="text-body2 q-mb-md" data-v-7c1a650f${c}><strong data-v-7c1a650f${c}>Эталонное значение:</strong><br data-v-7c1a650f${c}><span class="text-h6 text-primary" data-v-7c1a650f${c}>${G(a.base_value)}</span></div><div class="text-body2 q-mb-md" data-v-7c1a650f${c}><strong data-v-7c1a650f${c}>Система измерений:</strong><br data-v-7c1a650f${c}>`),$(s(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l((h,X,I,Pe)=>{if(X)X(`${G(a.measurement_system)}`);else return[t(i(a.measurement_system),1)]}),_:2},C,c)),$(`</div><div class="column q-gutter-sm" data-v-7c1a650f${c}>`),$(s(f,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:h=>$e(a),class:"full-width"},null,C,c)),$(`<div class="row q-gutter-sm" data-v-7c1a650f${c}>`),$(s(f,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:h=>be(a),class:"col"},null,C,c)),$(s(f,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:h=>xe(a),class:"col"},null,C,c)),$("</div></div>");else return[e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Эталонное значение:"),e("br"),e("span",{class:"text-h6 text-primary"},i(a.base_value),1)]),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Система измерений:"),e("br"),e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.measurement_system),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(f,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:h=>$e(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(f,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:h=>be(a),class:"col"},null,8,["onClick"]),e(f,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:h=>xe(a),class:"col"},null,8,["onClick"])])])]}),_:2},L,k));else return[e(Q,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Эталонное значение:"),e("br"),e("span",{class:"text-h6 text-primary"},i(a.base_value),1)]),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Система измерений:"),e("br"),e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.measurement_system),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(f,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:v=>$e(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(f,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:v=>be(a),class:"col"},null,8,["onClick"]),e(f,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:v=>xe(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]}),_:2},N,S));else return[e(me,{flat:""},{default:l(()=>[e(Q,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Эталонное значение:"),e("br"),e("span",{class:"text-h6 text-primary"},i(a.base_value),1)]),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Система измерений:"),e("br"),e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.measurement_system),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(f,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:b=>$e(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(f,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:b=>be(a),class:"col"},null,8,["onClick"]),e(f,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:b=>xe(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]}),_:2},de,E))}),q("<!--]--></div>"),u(d).sizes.length===0?(q(`<div class="text-center q-pa-lg" data-v-7c1a650f${E}>`),q(s(x,{name:"photo_size_select_small",size:"4em",color:"grey-4"},null,de,E)),q(`<div class="text-grey-6 q-mt-sm" data-v-7c1a650f${E}>Размеры не найдены</div></div>`)):q("<!---->"),q("</div>")):q("<!---->"),q(s(Ke,{modelValue:j.value,"onUpdate:modelValue":a=>j.value=a,persistent:"",maximized:u(m).screen.xs},{default:l((a,g,F,N)=>{if(g)g(s(me,{style:u(m).screen.xs?"":"min-width: 500px"},{default:l((S,b,M,L)=>{if(b)b(s(Q,null,{default:l((k,v,$,C)=>{if(v)v(`<div class="text-h6" data-v-7c1a650f${C}>${G(ye.value?"Редактировать размер":"Добавить размер")}</div>`);else return[e("div",{class:"text-h6"},i(ye.value?"Редактировать размер":"Добавить размер"),1)]}),_:1},M,L)),b(s(Q,{class:"q-pt-none"},{default:l((k,v,$,C)=>{if(v)v(s(fe,{modelValue:w.value.value,"onUpdate:modelValue":c=>w.value.value=c,label:"Значение размера *",autofocus:"",rules:[c=>!!c||"Значение размера обязательно"],"lazy-rules":"",class:"q-mb-md"},null,$,C)),v(s(fe,{modelValue:w.value.base_value,"onUpdate:modelValue":c=>w.value.base_value=c,label:"Эталонное значение *",type:"number",step:"0.01",rules:[c=>!!c||"Эталонное значение обязательно",c=>!isNaN(parseFloat(c))||"Должно быть числом"],"lazy-rules":"",class:"q-mb-md",hint:"Значение в эталонной системе (например, в сантиметрах)"},null,$,C)),v(s(Fe,{modelValue:w.value.measurement_system,"onUpdate:modelValue":c=>w.value.measurement_system=c,options:Ve.value,"option-label":"name","option-value":"id",label:"Система измерений *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:ke.value,onFilter:ve,rules:[c=>!!c||"Система измерений обязательна"],"lazy-rules":"",class:"q-mb-md"},{prepend:l((c,h,X,I)=>{if(h)h(s(x,{name:"straighten"},null,X,I));else return[e(x,{name:"straighten"})]}),"no-option":l((c,h,X,I)=>{if(h)h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,{class:"text-grey"},{default:l((Ce,U,A,H)=>{if(U)U(" Системы измерений не найдены ");else return[t(" Системы измерений не найдены ")]}),_:1},le,te));else return[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]}),_:1},X,I));else return[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]),_:1})]}),option:l((c,h,X,I)=>{if(h)h(s(_,c.itemProps,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,{avatar:""},{default:l((Ce,U,A,H)=>{if(U)U(s(x,{name:"straighten",color:"teal"},null,A,H));else return[e(x,{name:"straighten",color:"teal"})]}),_:2},le,te)),Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,null,{default:l((ce,p,ne,ie)=>{if(p)p(`${G(c.opt.name)}`);else return[t(i(c.opt.name),1)]}),_:2},A,H)),c.opt.description?U(s(n,{caption:""},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(c.opt.description)}`);else return[t(i(c.opt.description),1)]}),_:2},A,H)):U("<!---->");else return[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):P("",!0)]}),_:2},le,te));else return[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]}),_:2},X,I));else return[e(_,c.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]}),_:1},$,C));else return[e(fe,{modelValue:w.value.value,"onUpdate:modelValue":c=>w.value.value=c,label:"Значение размера *",autofocus:"",rules:[c=>!!c||"Значение размера обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(fe,{modelValue:w.value.base_value,"onUpdate:modelValue":c=>w.value.base_value=c,label:"Эталонное значение *",type:"number",step:"0.01",rules:[c=>!!c||"Эталонное значение обязательно",c=>!isNaN(parseFloat(c))||"Должно быть числом"],"lazy-rules":"",class:"q-mb-md",hint:"Значение в эталонной системе (например, в сантиметрах)"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Fe,{modelValue:w.value.measurement_system,"onUpdate:modelValue":c=>w.value.measurement_system=c,options:Ve.value,"option-label":"name","option-value":"id",label:"Система измерений *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:ke.value,onFilter:ve,rules:[c=>!!c||"Система измерений обязательна"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(x,{name:"straighten"})]),"no-option":l(()=>[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]),_:1})]),option:l(c=>[e(_,c.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"])]}),_:1},M,L)),b(s(Se,{align:"right"},{default:l((k,v,$,C)=>{if(v)v(s(f,Ze({flat:"",label:"Отмена"},rl(y,we)),null,$,C)),v(s(f,{flat:"",label:"Сохранить",color:"primary",onClick:Le,loading:u(d).loading},null,$,C));else return[Ue(e(f,{flat:"",label:"Отмена"},null,512),[[we]]),e(f,{flat:"",label:"Сохранить",color:"primary",onClick:Le,loading:u(d).loading},null,8,["loading"])]}),_:1},M,L));else return[e(Q,null,{default:l(()=>[e("div",{class:"text-h6"},i(ye.value?"Редактировать размер":"Добавить размер"),1)]),_:1}),e(Q,{class:"q-pt-none"},{default:l(()=>[e(fe,{modelValue:w.value.value,"onUpdate:modelValue":k=>w.value.value=k,label:"Значение размера *",autofocus:"",rules:[k=>!!k||"Значение размера обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(fe,{modelValue:w.value.base_value,"onUpdate:modelValue":k=>w.value.base_value=k,label:"Эталонное значение *",type:"number",step:"0.01",rules:[k=>!!k||"Эталонное значение обязательно",k=>!isNaN(parseFloat(k))||"Должно быть числом"],"lazy-rules":"",class:"q-mb-md",hint:"Значение в эталонной системе (например, в сантиметрах)"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Fe,{modelValue:w.value.measurement_system,"onUpdate:modelValue":k=>w.value.measurement_system=k,options:Ve.value,"option-label":"name","option-value":"id",label:"Система измерений *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:ke.value,onFilter:ve,rules:[k=>!!k||"Система измерений обязательна"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(x,{name:"straighten"})]),"no-option":l(()=>[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]),_:1})]),option:l(k=>[e(_,k.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(k.opt.name),1)]),_:2},1024),k.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(k.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"])]),_:1}),e(Se,{align:"right"},{default:l(()=>[Ue(e(f,{flat:"",label:"Отмена"},null,512),[[we]]),e(f,{flat:"",label:"Сохранить",color:"primary",onClick:Le,loading:u(d).loading},null,8,["loading"])]),_:1})]}),_:1},F,N));else return[e(me,{style:u(m).screen.xs?"":"min-width: 500px"},{default:l(()=>[e(Q,null,{default:l(()=>[e("div",{class:"text-h6"},i(ye.value?"Редактировать размер":"Добавить размер"),1)]),_:1}),e(Q,{class:"q-pt-none"},{default:l(()=>[e(fe,{modelValue:w.value.value,"onUpdate:modelValue":S=>w.value.value=S,label:"Значение размера *",autofocus:"",rules:[S=>!!S||"Значение размера обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(fe,{modelValue:w.value.base_value,"onUpdate:modelValue":S=>w.value.base_value=S,label:"Эталонное значение *",type:"number",step:"0.01",rules:[S=>!!S||"Эталонное значение обязательно",S=>!isNaN(parseFloat(S))||"Должно быть числом"],"lazy-rules":"",class:"q-mb-md",hint:"Значение в эталонной системе (например, в сантиметрах)"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Fe,{modelValue:w.value.measurement_system,"onUpdate:modelValue":S=>w.value.measurement_system=S,options:Ve.value,"option-label":"name","option-value":"id",label:"Система измерений *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:ke.value,onFilter:ve,rules:[S=>!!S||"Система измерений обязательна"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(x,{name:"straighten"})]),"no-option":l(()=>[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]),_:1})]),option:l(S=>[e(_,S.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(S.opt.name),1)]),_:2},1024),S.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(S.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"])]),_:1}),e(Se,{align:"right"},{default:l(()=>[Ue(e(f,{flat:"",label:"Отмена"},null,512),[[we]]),e(f,{flat:"",label:"Сохранить",color:"primary",onClick:Le,loading:u(d).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]}),_:1},de,E)),q(s(Ke,{modelValue:ue.value,"onUpdate:modelValue":a=>ue.value=a,maximized:u(m).screen.xs},{default:l((a,g,F,N)=>{if(g)g(s(me,{style:u(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l((S,b,M,L)=>{if(b)b(s(Q,{class:"row items-center q-pb-none"},{default:l((k,v,$,C)=>{if(v)v(`<div class="text-h6" data-v-7c1a650f${C}>Детали размера</div>`),v(s(Qe,null,null,$,C)),v(s(f,Ze({icon:"close",flat:"",round:"",dense:""},rl(y,we)),null,$,C));else return[e("div",{class:"text-h6"},"Детали размера"),e(Qe),Ue(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[we]])]}),_:1},M,L)),o.value?b(s(Q,null,{default:l((k,v,$,C)=>{if(v)v(s(We,null,{default:l((c,h,X,I)=>{if(h)h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,{avatar:""},{default:l((Ce,U,A,H)=>{if(U)U(s(_e,{color:"teal","text-color":"white"},{default:l((ce,p,ne,ie)=>{if(p)p(s(x,{name:"photo_size_select_small"},null,ne,ie));else return[e(x,{name:"photo_size_select_small"})]}),_:1},A,H));else return[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]}),_:1},le,te)),Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Значение");else return[t("Значение")]}),_:1},A,H)),U(s(n,{caption:"",class:"text-body1"},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(o.value.value)}`);else return[t(i(o.value.value),1)]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]}),_:1},le,te));else return[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]}),_:1},X,I)),h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Эталонное значение");else return[t("Эталонное значение")]}),_:1},A,H)),U(s(n,{caption:"",class:"text-body1 text-primary"},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(o.value.base_value)}`);else return[t(i(o.value.base_value),1)]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]}),_:1},le,te));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]}),_:1},X,I)),h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Система измерений");else return[t("Система измерений")]}),_:1},A,H)),U(s(n,{caption:""},{default:l((ce,p,ne,ie)=>{if(p)p(s(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l((Tl,ol,El,Fl)=>{if(ol)ol(`${G(o.value.measurement_system)}`);else return[t(i(o.value.measurement_system),1)]}),_:1},ne,ie));else return[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]}),_:1},le,te));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]}),_:1},X,I)),o.value.creator?h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Создатель");else return[t("Создатель")]}),_:1},A,H)),U(s(n,{caption:"",class:"text-body1"},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(o.value.creator.email)}`);else return[t(i(o.value.creator.email),1)]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]}),_:1},le,te));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]}),_:1},X,I)):h("<!---->"),o.value.created?h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Дата создания");else return[t("Дата создания")]}),_:1},A,H)),U(s(n,{caption:"",class:"text-body1"},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(Z(o.value.created))}`);else return[t(i(Z(o.value.created)),1)]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]}),_:1},le,te));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]}),_:1},X,I)):h("<!---->"),o.value.updated?h(s(_,null,{default:l((Pe,Y,le,te)=>{if(Y)Y(s(r,null,{default:l((Ce,U,A,H)=>{if(U)U(s(n,{class:"text-weight-medium"},{default:l((ce,p,ne,ie)=>{if(p)p("Дата обновления");else return[t("Дата обновления")]}),_:1},A,H)),U(s(n,{caption:"",class:"text-body1"},{default:l((ce,p,ne,ie)=>{if(p)p(`${G(Z(o.value.updated))}`);else return[t(i(Z(o.value.updated)),1)]}),_:1},A,H));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]}),_:1},le,te));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]}),_:1},X,I)):h("<!---->");else return[e(_,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]),_:1}),o.value.creator?(V(),z(_,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.created?(V(),z(_,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.updated?(V(),z(_,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]),_:1})):P("",!0)]}),_:1},$,C));else return[e(We,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]),_:1}),o.value.creator?(V(),z(_,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.created?(V(),z(_,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.updated?(V(),z(_,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]}),_:1},M,L)):b("<!---->"),b(s(Se,{align:"right",class:"q-pa-md"},{default:l((k,v,$,C)=>{if(v)v(s(f,{label:u(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ae,icon:"edit",round:u(m).screen.xs},null,$,C)),v(s(f,{label:u(m).screen.xs?"":"Удалить",color:"negative",onClick:He,icon:"delete",round:u(m).screen.xs},null,$,C));else return[e(f,{label:u(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ae,icon:"edit",round:u(m).screen.xs},null,8,["label","round"]),e(f,{label:u(m).screen.xs?"":"Удалить",color:"negative",onClick:He,icon:"delete",round:u(m).screen.xs},null,8,["label","round"])]}),_:1},M,L));else return[e(Q,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размера"),e(Qe),Ue(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[we]])]),_:1}),o.value?(V(),z(Q,{key:0},{default:l(()=>[e(We,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]),_:1}),o.value.creator?(V(),z(_,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.created?(V(),z(_,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.updated?(V(),z(_,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})):P("",!0),e(Se,{align:"right",class:"q-pa-md"},{default:l(()=>[e(f,{label:u(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ae,icon:"edit",round:u(m).screen.xs},null,8,["label","round"]),e(f,{label:u(m).screen.xs?"":"Удалить",color:"negative",onClick:He,icon:"delete",round:u(m).screen.xs},null,8,["label","round"])]),_:1})]}),_:1},F,N));else return[e(me,{style:u(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(Q,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размера"),e(Qe),Ue(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[we]])]),_:1}),o.value?(V(),z(Q,{key:0},{default:l(()=>[e(We,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]),_:1}),o.value.creator?(V(),z(_,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.created?(V(),z(_,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.updated?(V(),z(_,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})):P("",!0),e(Se,{align:"right",class:"q-pa-md"},{default:l(()=>[e(f,{label:u(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ae,icon:"edit",round:u(m).screen.xs},null,8,["label","round"]),e(f,{label:u(m).screen.xs?"":"Удалить",color:"negative",onClick:He,icon:"delete",round:u(m).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]}),_:1},de,E));else return[e("div",{class:"q-mb-md"},[e("div",{class:"row justify-between items-center"},[e("div",{class:"text-h5"},"Управление размерами"),e(f,{color:"primary",icon:"add",onClick:tl,label:u(m).screen.gt.xs?"Добавить размер":"",round:u(m).screen.xs,disable:!J.value},null,8,["label","round","disable"])]),Te.value?(V(),z("div",{key:0,class:"q-mt-sm"},[e(K,{color:"primary","text-color":"white",icon:"grid_on",size:"md"},{default:l(()=>[t(i(Te.value.name),1)]),_:1})])):P("",!0),e(nl,null,{default:l(()=>[B.value.length>0?(V(),z("div",{key:0,class:"q-mt-sm"},[e(me,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(Q,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:u(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(B.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(f,{dense:u(m).screen.xs,size:(u(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ye,loading:qe.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):P("",!0)]),_:1})]),e("div",{class:"q-mb-md"},[e(Fe,{modelValue:J.value,"onUpdate:modelValue":[a=>J.value=a,Ee],options:je.value,"option-label":"name","option-value":"id",label:"Размерная сетка *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:Re.value,onFilter:ee,class:"q-mb-md"},{prepend:l(()=>[e(x,{name:"grid_on"})]),"no-option":l(()=>[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Размерные сетки не найдены ")]),_:1})]),_:1})]),option:l(a=>[e(_,a.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"grid_on",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading"])]),J.value?(V(),z("div",{key:0,class:"q-mb-md"},[e(fe,{modelValue:ze.value,"onUpdate:modelValue":[a=>ze.value=a,el],placeholder:"Поиск по значению размера...",clearable:"",outlined:"",dense:"",onClear:ll},{prepend:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])])):P("",!0),J.value?P("",!0):(V(),z("div",{key:1,class:"text-center q-pa-lg"},[e(x,{name:"grid_on",size:"4em",color:"grey-4"}),e("div",{class:"text-grey-6 q-mt-sm"},"Выберите размерную сетку для просмотра размеров")])),u(d).loading&&J.value?(V(),z("div",{key:2,class:"flex flex-center q-pa-md"},[e(il,{color:"primary",size:"3em"})])):P("",!0),!u(d).loading&&J.value&&u(m).screen.gt.xs?(V(),z("div",{key:3,class:"desktop-view"},[e(sl,{title:"Размеры",rows:u(d).sizes,columns:T,"row-key":"id",loading:u(d).loading,pagination:u(d).qTablePagination,"onUpdate:pagination":a=>u(d).qTablePagination=a,selected:B.value,"onUpdate:selected":a=>B.value=a,selection:"multiple",onRequest:Oe,onRowClick:al,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer sizes-table"},{"body-cell-measurement_system":l(a=>[e(Be,{props:a},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.row.measurement_system),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":l(a=>[e(Be,{props:a,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(f,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ge(g=>$e(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"edit",onClick:ge(g=>be(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ge(g=>xe(a.row),["stop"])},{default:l(()=>[e(oe,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"no-data":l(({icon:a,message:g,filter:F})=>[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(x,{size:"2em",name:F?"filter_b_and_w":a},null,8,["name"]),e("span",null,i(g),1)])]),_:1},8,["rows","loading","pagination","onUpdate:pagination","selected","onUpdate:selected"])])):P("",!0),!u(d).loading&&J.value&&u(m).screen.xs?(V(),z("div",{key:4,class:"mobile-view"},[e("div",{class:"row items-center justify-between q-mb-md"},[e("div",{class:"text-caption text-grey-7"},"Всего: "+i(u(d).totalCount),1),e("div",{class:"row q-gutter-xs"},[e(f,{flat:"",dense:"",icon:"chevron_left",onClick:u(d).goToPreviousPage,disable:!u(d).hasPrevious},null,8,["onClick","disable"]),e("span",{class:"text-caption q-px-sm"},i(u(d).currentPage)+" / "+i(u(d).totalPages),1),e(f,{flat:"",dense:"",icon:"chevron_right",onClick:u(d).goToNextPage,disable:!u(d).hasNext},null,8,["onClick","disable"])])]),e("div",{class:"q-gutter-sm"},[(V(!0),z(bl,null,xl(u(d).sizes,a=>(V(),z(ul,{key:a.id,class:"size-card","header-class":B.value.some(g=>g.id===a.id)?"bg-blue-1":""},{header:l(()=>[e("div",{class:"row items-center full-width no-wrap"},[e(Xe,{"model-value":B.value.some(g=>g.id===a.id),"onUpdate:modelValue":g=>he(a,g),class:"q-mr-sm",onClick:ge(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(_e,{size:"40px",class:"q-mr-md bg-teal text-white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1}),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium text-h6"},i(a.value),1),e("div",{class:"text-caption text-grey-6"},i(a.measurement_system)+" • Эталон: "+i(a.base_value),1)])])]),default:l(()=>[e(me,{flat:""},{default:l(()=>[e(Q,{class:"q-pt-none"},{default:l(()=>[e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Эталонное значение:"),e("br"),e("span",{class:"text-h6 text-primary"},i(a.base_value),1)]),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Система измерений:"),e("br"),e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(a.measurement_system),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(f,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:g=>$e(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(f,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:g=>be(a),class:"col"},null,8,["onClick"]),e(f,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:g=>xe(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))]),u(d).sizes.length===0?(V(),z("div",{key:0,class:"text-center q-pa-lg"},[e(x,{name:"photo_size_select_small",size:"4em",color:"grey-4"}),e("div",{class:"text-grey-6 q-mt-sm"},"Размеры не найдены")])):P("",!0)])):P("",!0),e(Ke,{modelValue:j.value,"onUpdate:modelValue":a=>j.value=a,persistent:"",maximized:u(m).screen.xs},{default:l(()=>[e(me,{style:u(m).screen.xs?"":"min-width: 500px"},{default:l(()=>[e(Q,null,{default:l(()=>[e("div",{class:"text-h6"},i(ye.value?"Редактировать размер":"Добавить размер"),1)]),_:1}),e(Q,{class:"q-pt-none"},{default:l(()=>[e(fe,{modelValue:w.value.value,"onUpdate:modelValue":a=>w.value.value=a,label:"Значение размера *",autofocus:"",rules:[a=>!!a||"Значение размера обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(fe,{modelValue:w.value.base_value,"onUpdate:modelValue":a=>w.value.base_value=a,label:"Эталонное значение *",type:"number",step:"0.01",rules:[a=>!!a||"Эталонное значение обязательно",a=>!isNaN(parseFloat(a))||"Должно быть числом"],"lazy-rules":"",class:"q-mb-md",hint:"Значение в эталонной системе (например, в сантиметрах)"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Fe,{modelValue:w.value.measurement_system,"onUpdate:modelValue":a=>w.value.measurement_system=a,options:Ve.value,"option-label":"name","option-value":"id",label:"Система измерений *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:ke.value,onFilter:ve,rules:[a=>!!a||"Система измерений обязательна"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(x,{name:"straighten"})]),"no-option":l(()=>[e(_,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Системы измерений не найдены ")]),_:1})]),_:1})]),option:l(a=>[e(_,a.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(x,{name:"straighten",color:"teal"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(V(),z(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"])]),_:1}),e(Se,{align:"right"},{default:l(()=>[Ue(e(f,{flat:"",label:"Отмена"},null,512),[[we]]),e(f,{flat:"",label:"Сохранить",color:"primary",onClick:Le,loading:u(d).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"]),e(Ke,{modelValue:ue.value,"onUpdate:modelValue":a=>ue.value=a,maximized:u(m).screen.xs},{default:l(()=>[e(me,{style:u(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(Q,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размера"),e(Qe),Ue(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[we]])]),_:1}),o.value?(V(),z(Q,{key:0},{default:l(()=>[e(We,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(_e,{color:"teal","text-color":"white"},{default:l(()=>[e(x,{name:"photo_size_select_small"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Значение")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Эталонное значение")]),_:1}),e(n,{caption:"",class:"text-body1 text-primary"},{default:l(()=>[t(i(o.value.base_value),1)]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Система измерений")]),_:1}),e(n,{caption:""},{default:l(()=>[e(K,{color:"teal","text-color":"white",size:"sm",icon:"straighten"},{default:l(()=>[t(i(o.value.measurement_system),1)]),_:1})]),_:1})]),_:1})]),_:1}),o.value.creator?(V(),z(_,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(o.value.creator.email),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.created?(V(),z(_,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.created)),1)]),_:1})]),_:1})]),_:1})):P("",!0),o.value.updated?(V(),z(_,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Z(o.value.updated)),1)]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})):P("",!0),e(Se,{align:"right",class:"q-pa-md"},{default:l(()=>[e(f,{label:u(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ae,icon:"edit",round:u(m).screen.xs},null,8,["label","round"]),e(f,{label:u(m).screen.xs?"":"Удалить",color:"negative",onClick:He,icon:"delete",round:u(m).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"])]}),_:1},pe))}}}),cl=Ie.setup;Ie.setup=(Ne,m)=>{const d=pl();return(d.modules||(d.modules=new Set)).add("src/pages/SizesPage.vue"),cl?cl(Ne,m):void 0};const Gl=Sl(Ie,[["__scopeId","data-v-7c1a650f"]]);export{Gl as default};
