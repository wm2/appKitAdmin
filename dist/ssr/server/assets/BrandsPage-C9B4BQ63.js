import{defineComponent as ol,ref as xe,onMounted as ul,resolveComponent as R,resolveDirective as cl,mergeProps as Oe,withCtx as l,unref as a,createVNode as e,toDisplayString as c,createBlock as v,createCommentVNode as p,openBlock as g,createTextVNode as i,withModifiers as G,withDirectives as ye,Fragment as rl,renderList as fl,useSSRContext as ml}from"vue";import{ssrRenderComponent as o,ssrRenderClass as Me,ssrInterpolate as J,ssrRenderAttr as al,ssrRenderStyle as vl,ssrRenderList as gl,ssrGetDirectiveProps as il}from"vue/server-renderer";import{u as xl}from"./brands.store-BcAb7YPm.js";import{useQuasar as bl,Dialog as Ye,date as _l}from"quasar";import{_ as yl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"pinia";import"../server-entry.js";import"quasar/wrappers";import"vue-router";import"axios";import"./usePagination-CZ7Hsnrr.js";const Ae=ol({__name:"BrandsPage",__ssrInlineRender:!0,setup(Ee){const d=bl(),m=xl(),we=xe(!1),be=xe(!1),me=xe(!1),n=xe(null),qe=xe(""),F=xe([]),M=xe(!1),r=xe({name:"",description:"",is_published:!0}),Q=xe(null),He=[{name:"file",label:"Изображение",field:"file",align:"center",sortable:!1},{name:"name",required:!0,label:"Название",align:"left",field:"name",sortable:!0},{name:"slug",label:"Slug",field:"slug",align:"left",sortable:!0},{name:"is_published",label:"Статус",field:"is_published",align:"center",sortable:!0},{name:"actions",label:"Действия",field:"id",align:"right"}];function Ne(b,q){q?F.value.some(W=>W.id===b.id)||F.value.push(b):F.value=F.value.filter(W=>W.id!==b.id)}async function Qe(b){b.pagination&&await m.handleTableRequest(b)}async function Ge(b){const q=b?String(b).trim():"";q.length>=2?await m.filterBrands({name:q}):q.length===0&&await m.clearFilters()}async function Je(){qe.value="",await m.clearFilters()}async function ve(b){const q=await m.fetchBrandById(b.id);q&&(n.value=q,be.value=!0)}function Ke(){me.value=!1,r.value={name:"",description:"",is_published:!0,newFile:null,fileUrl:null},Q.value=null,we.value=!0}async function oe(b){me.value=!0;const q=await m.fetchBrandById(b.id);q?(r.value={id:q.id,name:q.name,description:q.description||"",is_published:q.is_published,fileUrl:q.file,newFile:null},Q.value=q.file):(r.value={id:b.id,name:b.name,description:"",is_published:b.is_published,fileUrl:b.file,newFile:null},Q.value=b.file),we.value=!0}function he(b){b&&!Array.isArray(b)?(r.value.newFile=b,Q.value=URL.createObjectURL(b)):(r.value.newFile=null,me.value&&r.value.fileUrl?Q.value=r.value.fileUrl:Q.value=null)}async function Ce(){if(!r.value.name){d.notify({type:"negative",message:"Название бренда обязательно."});return}const b=typeof r.value.is_published=="boolean"?r.value.is_published:!1,q={name:r.value.name,description:r.value.description||"",is_published:b};r.value.newFile&&(q.file=r.value.newFile);let W=!1;me.value&&r.value.id?await m.updateBrand(r.value.id,q)&&(W=!0):await m.createBrand(q)&&(W=!0),W&&(we.value=!1)}async function We(b){await m.patchBrandStatus(b.id,!b.is_published)}function pe(b){if(d.screen.xs){const q=!b.is_published,W=q?"опубликовать":"снять с публикации";Ye.create({title:"Подтвердите действие",message:`Вы уверены, что хотите ${W} бренд "${b.name}"?`,persistent:!0,ok:{label:q?"Опубликовать":"Снять с публикации",color:q?"green":"orange"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{We(b)})}else We(b)}function Ve(){Ye.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить ${F.value.length} элементов?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{sl()})}async function sl(){M.value=!0;try{await m.bulkDeleteBrands(F.value.map(q=>q.id))&&(F.value=[])}finally{M.value=!1}}async function $e(){M.value=!0;try{await m.bulkUpdateBrandStatus(F.value.map(q=>q.id),!0)&&(F.value=[])}finally{M.value=!1}}async function ze(){M.value=!0;try{await m.bulkUpdateBrandStatus(F.value.map(q=>q.id),!1)&&(F.value=[])}finally{M.value=!1}}function ue(b){Ye.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить бренд "${b.name}"?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{m.deleteBrand(b.id).catch(q=>{d.notify({type:"negative",message:"Ошибка при удалении бренда"}),console.error("Delete brand error:",q)})})}async function Xe(b,q){const W=b.target;if(W.closest(".q-btn")||W.closest("button"))return;const ke=await m.fetchBrandById(q.id);ke&&(n.value=ke,be.value=!0)}async function Ue(){n.value&&(be.value=!1,await oe(n.value))}function Be(){n.value&&(be.value=!1,ue(n.value))}function Y(b){return _l.formatDate(b,"DD.MM.YYYY HH:mm")}return ul(async()=>{await m.fetchBrands()}),(b,q,W,ke)=>{const dl=R("q-page"),u=R("q-btn"),Ze=R("q-slide-transition"),ee=R("q-card"),T=R("q-card-section"),le=R("q-input"),N=R("q-icon"),Ie=R("q-spinner"),el=R("q-table"),ge=R("q-td"),ce=R("q-avatar"),Z=R("q-chip"),K=R("q-tooltip"),ll=R("q-expansion-item"),Le=R("q-checkbox"),Te=R("q-dialog"),je=R("q-file"),re=R("q-img"),Fe=R("q-toggle"),_e=R("q-card-actions"),De=R("q-space"),Se=R("q-list"),h=R("q-item"),w=R("q-item-section"),s=R("q-item-label"),fe=cl("close-popup");q(o(dl,Oe({padding:""},ke),{default:l((wl,B,ie,P)=>{if(B)B(`<div class="q-mb-md" data-v-7cd3147a${P}><div class="row justify-between items-center" data-v-7cd3147a${P}><div class="text-h5" data-v-7cd3147a${P}>Управление брендами</div>`),B(o(u,{color:"primary",icon:"add",onClick:Ke,label:a(d).screen.gt.xs?"Добавить бренд":"",round:a(d).screen.xs},null,ie,P)),B("</div>"),B(o(Ze,null,{default:l((t,_,j,D)=>{if(_)F.value.length>0?(_(`<div class="q-mt-sm" data-v-7cd3147a${D}>`),_(o(ee,{flat:"",bordered:"",class:"bg-blue-1"},{default:l((U,x,S,L)=>{if(x)x(o(T,{class:"q-pa-sm"},{default:l((C,f,k,y)=>{if(f)f(`<div class="${Me(a(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between")}" data-v-7cd3147a${y}><span class="text-blue-8 text-body2" data-v-7cd3147a${y}>${J(F.value.length)} выбрано</span><div class="row q-gutter-xs" data-v-7cd3147a${y}>`),f(o(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"green",icon:"visibility",onClick:$e,loading:M.value,label:"Опубликовать"},null,k,y)),f(o(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"orange",icon:"visibility_off",onClick:ze,loading:M.value,label:"Снять с публикации"},null,k,y)),f(o(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ve,loading:M.value,label:"Удалить"},null,k,y)),f("</div></div>");else return[e("div",{class:a(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},c(F.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"green",icon:"visibility",onClick:$e,loading:M.value,label:"Опубликовать"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"orange",icon:"visibility_off",onClick:ze,loading:M.value,label:"Снять с публикации"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ve,loading:M.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]}),_:1},S,L));else return[e(T,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},c(F.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"green",icon:"visibility",onClick:$e,loading:M.value,label:"Опубликовать"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"orange",icon:"visibility_off",onClick:ze,loading:M.value,label:"Снять с публикации"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ve,loading:M.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]}),_:1},j,D)),_("</div>")):_("<!---->");else return[F.value.length>0?(g(),v("div",{key:0,class:"q-mt-sm"},[e(ee,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(T,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},c(F.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"green",icon:"visibility",onClick:$e,loading:M.value,label:"Опубликовать"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"orange",icon:"visibility_off",onClick:ze,loading:M.value,label:"Снять с публикации"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ve,loading:M.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):p("",!0)]}),_:1},ie,P)),B(`</div><div class="q-mb-md" data-v-7cd3147a${P}>`),B(o(le,{modelValue:qe.value,"onUpdate:modelValue":[t=>qe.value=t,Ge],placeholder:"Поиск по названию бренда...",clearable:"",outlined:"",dense:"",onClear:Je},{prepend:l((t,_,j,D)=>{if(_)_(o(N,{name:"search"},null,j,D));else return[e(N,{name:"search"})]}),_:1},ie,P)),B("</div>"),a(m).loading?(B(`<div class="flex flex-center q-pa-md" data-v-7cd3147a${P}>`),B(o(Ie,{color:"primary",size:"3em"},null,ie,P)),B("</div>")):B("<!---->"),!a(m).loading&&a(d).screen.gt.xs?(B(`<div class="desktop-view" data-v-7cd3147a${P}>`),B(o(el,{title:"Бренды",rows:a(m).brands,columns:He,"row-key":"id",loading:a(m).loading,pagination:a(m).qTablePagination,"onUpdate:pagination":t=>a(m).qTablePagination=t,selected:F.value,"onUpdate:selected":t=>F.value=t,selection:"multiple",onRequest:Qe,onRowClick:Xe,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer brands-table"},{"body-cell-file":l((t,_,j,D)=>{if(_)_(o(ge,{props:t},{default:l((U,x,S,L)=>{if(x)t.row.file?x(o(ce,{size:"50px"},{default:l((C,f,k,y)=>{if(f)f(`<img${al("src",t.row.file)} alt="Brand image" style="${vl({"max-width":"50px","max-height":"50px","object-fit":"contain"})}" data-v-7cd3147a${y}>`);else return[e("img",{src:t.row.file,alt:"Brand image",style:{"max-width":"50px","max-height":"50px","object-fit":"contain"}},null,8,["src"])]}),_:2},S,L)):x(`<span data-v-7cd3147a${L}>-</span>`);else return[t.row.file?(g(),v(ce,{key:0,size:"50px"},{default:l(()=>[e("img",{src:t.row.file,alt:"Brand image",style:{"max-width":"50px","max-height":"50px","object-fit":"contain"}},null,8,["src"])]),_:2},1024)):(g(),v("span",{key:1},"-"))]}),_:2},j,D));else return[e(ge,{props:t},{default:l(()=>[t.row.file?(g(),v(ce,{key:0,size:"50px"},{default:l(()=>[e("img",{src:t.row.file,alt:"Brand image",style:{"max-width":"50px","max-height":"50px","object-fit":"contain"}},null,8,["src"])]),_:2},1024)):(g(),v("span",{key:1},"-"))]),_:2},1032,["props"])]}),"body-cell-is_published":l((t,_,j,D)=>{if(_)_(o(ge,{props:t},{default:l((U,x,S,L)=>{if(x)x(o(Z,{color:t.row.is_published?"green":"red",icon:t.row.is_published?"visibility":"visibility_off","text-color":"white",dense:"",size:"md",clickable:"",onClick:C=>pe(t.row)},{default:l((C,f,k,y)=>{if(f)f(`${J(t.row.is_published?"Опубликован":"Не опубликован")}`);else return[i(c(t.row.is_published?"Опубликован":"Не опубликован"),1)]}),_:2},S,L));else return[e(Z,{color:t.row.is_published?"green":"red",icon:t.row.is_published?"visibility":"visibility_off","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(C=>pe(t.row),["stop"])},{default:l(()=>[i(c(t.row.is_published?"Опубликован":"Не опубликован"),1)]),_:2},1032,["color","icon","onClick"])]}),_:2},j,D));else return[e(ge,{props:t},{default:l(()=>[e(Z,{color:t.row.is_published?"green":"red",icon:t.row.is_published?"visibility":"visibility_off","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(U=>pe(t.row),["stop"])},{default:l(()=>[i(c(t.row.is_published?"Опубликован":"Не опубликован"),1)]),_:2},1032,["color","icon","onClick"])]),_:2},1032,["props"])]}),"body-cell-actions":l((t,_,j,D)=>{if(_)_(o(ge,{props:t,class:"text-right"},{default:l((U,x,S,L)=>{if(x)x(`<div class="row no-wrap q-gutter-xs justify-end" data-v-7cd3147a${L}>`),x(o(u,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:C=>ve(t.row)},{default:l((C,f,k,y)=>{if(f)f(o(K,null,{default:l(($,z,I,X)=>{if(z)z("Просмотр");else return[i("Просмотр")]}),_:2},k,y));else return[e(K,null,{default:l(()=>[i("Просмотр")]),_:1})]}),_:2},S,L)),x(o(u,{flat:"",round:"",dense:"",icon:"edit",onClick:C=>oe(t.row)},{default:l((C,f,k,y)=>{if(f)f(o(K,null,{default:l(($,z,I,X)=>{if(z)z("Редактировать");else return[i("Редактировать")]}),_:2},k,y));else return[e(K,null,{default:l(()=>[i("Редактировать")]),_:1})]}),_:2},S,L)),x(o(u,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:C=>ue(t.row)},{default:l((C,f,k,y)=>{if(f)f(o(K,null,{default:l(($,z,I,X)=>{if(z)z("Удалить");else return[i("Удалить")]}),_:2},k,y));else return[e(K,null,{default:l(()=>[i("Удалить")]),_:1})]}),_:2},S,L)),x("</div>");else return[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(u,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(C=>ve(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"edit",onClick:G(C=>oe(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(C=>ue(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Удалить")]),_:1})]),_:2},1032,["onClick"])])]}),_:2},j,D));else return[e(ge,{props:t,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(u,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(U=>ve(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"edit",onClick:G(U=>oe(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(U=>ue(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]}),"no-data":l(({icon:t,message:_,filter:j},D,U,x)=>{if(D)D(`<div class="full-width row flex-center text-accent q-gutter-sm" data-v-7cd3147a${x}>`),D(o(N,{size:"2em",name:j?"filter_b_and_w":t},null,U,x)),D(`<span data-v-7cd3147a${x}>${J(_)}</span></div>`);else return[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(N,{size:"2em",name:j?"filter_b_and_w":t},null,8,["name"]),e("span",null,c(_),1)])]}),_:1},ie,P)),B("</div>")):B("<!---->"),!a(m).loading&&a(d).screen.xs?(B(`<div class="mobile-view" data-v-7cd3147a${P}><div class="row items-center justify-between q-mb-md" data-v-7cd3147a${P}><div class="text-caption text-grey-7" data-v-7cd3147a${P}>Всего: ${J(a(m).totalCount)}</div><div class="row q-gutter-xs" data-v-7cd3147a${P}>`),B(o(u,{flat:"",dense:"",icon:"chevron_left",onClick:a(m).goToPreviousPage,disable:!a(m).hasPrevious},null,ie,P)),B(`<span class="text-caption q-px-sm" data-v-7cd3147a${P}>${J(a(m).currentPage)} / ${J(a(m).totalPages)}</span>`),B(o(u,{flat:"",dense:"",icon:"chevron_right",onClick:a(m).goToNextPage,disable:!a(m).hasNext},null,ie,P)),B(`</div></div><div class="q-gutter-sm" data-v-7cd3147a${P}><!--[-->`),gl(a(m).brands,t=>{B(o(ll,{key:t.id,class:"brand-card","header-class":F.value.some(_=>_.id===t.id)?"bg-blue-1":""},{header:l((_,j,D,U)=>{if(j)j(`<div class="row items-center full-width no-wrap" data-v-7cd3147a${U}>`),j(o(Le,{"model-value":F.value.some(x=>x.id===t.id),"onUpdate:modelValue":x=>Ne(t,x),class:"q-mr-sm",onClick:()=>{}},null,D,U)),t.file?j(o(ce,{size:"40px",class:"q-mr-md"},{default:l((x,S,L,C)=>{if(S)S(`<img${al("src",t.file)} alt="Brand image" data-v-7cd3147a${C}>`);else return[e("img",{src:t.file,alt:"Brand image"},null,8,["src"])]}),_:2},D,U)):j(o(ce,{size:"40px",class:"q-mr-md bg-grey-3"},{default:l((x,S,L,C)=>{if(S)S(o(N,{name:"image",color:"grey-6"},null,L,C));else return[e(N,{name:"image",color:"grey-6"})]}),_:2},D,U)),j(`<div class="col-grow q-mr-md" data-v-7cd3147a${U}><div class="text-weight-medium" data-v-7cd3147a${U}>${J(t.name)}</div><div class="text-caption text-grey-6" data-v-7cd3147a${U}>${J(t.slug)}</div></div>`),j(o(u,{color:t.is_published?"green":"red","text-color":"white",dense:"",size:"sm",onClick:x=>pe(t),class:"q-mr-md",icon:t.is_published?"visibility":"visibility_off",label:(t.is_published,"")},null,D,U)),j("</div>");else return[e("div",{class:"row items-center full-width no-wrap"},[e(Le,{"model-value":F.value.some(x=>x.id===t.id),"onUpdate:modelValue":x=>Ne(t,x),class:"q-mr-sm",onClick:G(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),t.file?(g(),v(ce,{key:0,size:"40px",class:"q-mr-md"},{default:l(()=>[e("img",{src:t.file,alt:"Brand image"},null,8,["src"])]),_:2},1024)):(g(),v(ce,{key:1,size:"40px",class:"q-mr-md bg-grey-3"},{default:l(()=>[e(N,{name:"image",color:"grey-6"})]),_:1})),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},c(t.name),1),e("div",{class:"text-caption text-grey-6"},c(t.slug),1)]),e(u,{color:t.is_published?"green":"red","text-color":"white",dense:"",size:"sm",onClick:G(x=>pe(t),["stop"]),class:"q-mr-md",icon:t.is_published?"visibility":"visibility_off",label:(t.is_published,"")},null,8,["color","onClick","icon","label"])])]}),default:l((_,j,D,U)=>{if(j)j(o(ee,{flat:""},{default:l((x,S,L,C)=>{if(S)S(o(T,{class:"q-pt-none"},{default:l((f,k,y,$)=>{if(k)t.description?k(`<div class="text-body2 q-mb-md" data-v-7cd3147a${$}><strong data-v-7cd3147a${$}>Описание:</strong><br data-v-7cd3147a${$}> ${J(t.description)}</div>`):k("<!---->"),k(`<div class="column q-gutter-sm" data-v-7cd3147a${$}>`),k(o(u,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:z=>ve(t),class:"full-width"},null,y,$)),k(`<div class="row q-gutter-sm" data-v-7cd3147a${$}>`),k(o(u,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:z=>oe(t),class:"col"},null,y,$)),k(o(u,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:z=>ue(t),class:"col"},null,y,$)),k("</div></div>");else return[t.description?(g(),v("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),i(" "+c(t.description),1)])):p("",!0),e("div",{class:"column q-gutter-sm"},[e(u,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:z=>ve(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(u,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:z=>oe(t),class:"col"},null,8,["onClick"]),e(u,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:z=>ue(t),class:"col"},null,8,["onClick"])])])]}),_:2},L,C));else return[e(T,{class:"q-pt-none"},{default:l(()=>[t.description?(g(),v("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),i(" "+c(t.description),1)])):p("",!0),e("div",{class:"column q-gutter-sm"},[e(u,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:f=>ve(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(u,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:f=>oe(t),class:"col"},null,8,["onClick"]),e(u,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:f=>ue(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]}),_:2},D,U));else return[e(ee,{flat:""},{default:l(()=>[e(T,{class:"q-pt-none"},{default:l(()=>[t.description?(g(),v("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),i(" "+c(t.description),1)])):p("",!0),e("div",{class:"column q-gutter-sm"},[e(u,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:x=>ve(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(u,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:x=>oe(t),class:"col"},null,8,["onClick"]),e(u,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:x=>ue(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]}),_:2},ie,P))}),B("<!--]--></div>"),a(m).brands.length===0?(B(`<div class="text-center q-pa-lg" data-v-7cd3147a${P}>`),B(o(N,{name:"inventory_2",size:"4em",color:"grey-4"},null,ie,P)),B(`<div class="text-grey-6 q-mt-sm" data-v-7cd3147a${P}>Бренды не найдены</div></div>`)):B("<!---->"),B("</div>")):B("<!---->"),B(o(Te,{modelValue:we.value,"onUpdate:modelValue":t=>we.value=t,persistent:"",maximized:a(d).screen.xs},{default:l((t,_,j,D)=>{if(_)_(o(ee,{style:a(d).screen.xs?"":"min-width: 400px"},{default:l((U,x,S,L)=>{if(x)x(o(T,null,{default:l((C,f,k,y)=>{if(f)f(`<div class="text-h6" data-v-7cd3147a${y}>${J(me.value?"Редактировать бренд":"Добавить бренд")}</div>`);else return[e("div",{class:"text-h6"},c(me.value?"Редактировать бренд":"Добавить бренд"),1)]}),_:1},S,L)),x(o(T,{class:"q-pt-none"},{default:l((C,f,k,y)=>{if(f)f(o(le,{modelValue:r.value.name,"onUpdate:modelValue":$=>r.value.name=$,label:"Название *",autofocus:"",rules:[$=>!!$||"Название обязательно"],"lazy-rules":""},null,k,y)),f(o(le,{modelValue:r.value.description,"onUpdate:modelValue":$=>r.value.description=$,label:"Описание",type:"textarea",autogrow:""},null,k,y)),f(o(je,{modelValue:r.value.newFile,"onUpdate:modelValue":[$=>r.value.newFile=$,he],label:"Файл изображения",accept:".jpg, .jpeg, .png, .gif, .svg, .webp",clearable:""},{prepend:l(($,z,I,X)=>{if(z)z(o(N,{name:"attach_file"},null,I,X));else return[e(N,{name:"attach_file"})]}),_:1},k,y)),Q.value&&!r.value.newFile?f(o(re,{src:Q.value,style:{"max-height":"100px","margin-top":"10px"},fit:"contain"},null,k,y)):f("<!---->"),f(o(Fe,{modelValue:r.value.is_published,"onUpdate:modelValue":$=>r.value.is_published=$,label:"Опубликован","left-label":""},null,k,y));else return[e(le,{modelValue:r.value.name,"onUpdate:modelValue":$=>r.value.name=$,label:"Название *",autofocus:"",rules:[$=>!!$||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(le,{modelValue:r.value.description,"onUpdate:modelValue":$=>r.value.description=$,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"]),e(je,{modelValue:r.value.newFile,"onUpdate:modelValue":[$=>r.value.newFile=$,he],label:"Файл изображения",accept:".jpg, .jpeg, .png, .gif, .svg, .webp",clearable:""},{prepend:l(()=>[e(N,{name:"attach_file"})]),_:1},8,["modelValue","onUpdate:modelValue"]),Q.value&&!r.value.newFile?(g(),v(re,{key:0,src:Q.value,style:{"max-height":"100px","margin-top":"10px"},fit:"contain"},null,8,["src"])):p("",!0),e(Fe,{modelValue:r.value.is_published,"onUpdate:modelValue":$=>r.value.is_published=$,label:"Опубликован","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]}),_:1},S,L)),x(o(_e,{align:"right"},{default:l((C,f,k,y)=>{if(f)f(o(u,Oe({flat:"",label:"Отмена"},il(b,fe)),null,k,y)),f(o(u,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:a(m).loading},null,k,y));else return[ye(e(u,{flat:"",label:"Отмена"},null,512),[[fe]]),e(u,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:a(m).loading},null,8,["loading"])]}),_:1},S,L));else return[e(T,null,{default:l(()=>[e("div",{class:"text-h6"},c(me.value?"Редактировать бренд":"Добавить бренд"),1)]),_:1}),e(T,{class:"q-pt-none"},{default:l(()=>[e(le,{modelValue:r.value.name,"onUpdate:modelValue":C=>r.value.name=C,label:"Название *",autofocus:"",rules:[C=>!!C||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(le,{modelValue:r.value.description,"onUpdate:modelValue":C=>r.value.description=C,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"]),e(je,{modelValue:r.value.newFile,"onUpdate:modelValue":[C=>r.value.newFile=C,he],label:"Файл изображения",accept:".jpg, .jpeg, .png, .gif, .svg, .webp",clearable:""},{prepend:l(()=>[e(N,{name:"attach_file"})]),_:1},8,["modelValue","onUpdate:modelValue"]),Q.value&&!r.value.newFile?(g(),v(re,{key:0,src:Q.value,style:{"max-height":"100px","margin-top":"10px"},fit:"contain"},null,8,["src"])):p("",!0),e(Fe,{modelValue:r.value.is_published,"onUpdate:modelValue":C=>r.value.is_published=C,label:"Опубликован","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_e,{align:"right"},{default:l(()=>[ye(e(u,{flat:"",label:"Отмена"},null,512),[[fe]]),e(u,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:a(m).loading},null,8,["loading"])]),_:1})]}),_:1},j,D));else return[e(ee,{style:a(d).screen.xs?"":"min-width: 400px"},{default:l(()=>[e(T,null,{default:l(()=>[e("div",{class:"text-h6"},c(me.value?"Редактировать бренд":"Добавить бренд"),1)]),_:1}),e(T,{class:"q-pt-none"},{default:l(()=>[e(le,{modelValue:r.value.name,"onUpdate:modelValue":U=>r.value.name=U,label:"Название *",autofocus:"",rules:[U=>!!U||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(le,{modelValue:r.value.description,"onUpdate:modelValue":U=>r.value.description=U,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"]),e(je,{modelValue:r.value.newFile,"onUpdate:modelValue":[U=>r.value.newFile=U,he],label:"Файл изображения",accept:".jpg, .jpeg, .png, .gif, .svg, .webp",clearable:""},{prepend:l(()=>[e(N,{name:"attach_file"})]),_:1},8,["modelValue","onUpdate:modelValue"]),Q.value&&!r.value.newFile?(g(),v(re,{key:0,src:Q.value,style:{"max-height":"100px","margin-top":"10px"},fit:"contain"},null,8,["src"])):p("",!0),e(Fe,{modelValue:r.value.is_published,"onUpdate:modelValue":U=>r.value.is_published=U,label:"Опубликован","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_e,{align:"right"},{default:l(()=>[ye(e(u,{flat:"",label:"Отмена"},null,512),[[fe]]),e(u,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:a(m).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]}),_:1},ie,P)),B(o(Te,{modelValue:be.value,"onUpdate:modelValue":t=>be.value=t,maximized:a(d).screen.xs},{default:l((t,_,j,D)=>{if(_)_(o(ee,{style:a(d).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l((U,x,S,L)=>{if(x)x(o(T,{class:"row items-center q-pb-none"},{default:l((C,f,k,y)=>{if(f)f(`<div class="text-h6" data-v-7cd3147a${y}>Детали бренда</div>`),f(o(De,null,null,k,y)),f(o(u,Oe({icon:"close",flat:"",round:"",dense:""},il(b,fe)),null,k,y));else return[e("div",{class:"text-h6"},"Детали бренда"),e(De),ye(e(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]}),_:1},S,L)),n.value?x(o(T,null,{default:l((C,f,k,y)=>{if(f)f(`<div class="${Me(a(d).screen.xs?"column q-gutter-md":"row q-gutter-md")}" data-v-7cd3147a${y}>`),n.value.file?(f(`<div class="${Me(a(d).screen.xs?"col-12":"col-12 col-md-4")}" data-v-7cd3147a${y}>`),f(o(re,{src:n.value.file,style:a(d).screen.xs?"max-height: 150px; border-radius: 8px":"max-height: 200px; border-radius: 8px",fit:"contain",class:"bg-grey-1"},{error:l(($,z,I,X)=>{if(z)z(`<div class="absolute-full flex flex-center bg-grey-3 text-grey-7" data-v-7cd3147a${X}>`),z(o(N,{name:"broken_image",size:"50px"},null,I,X)),z("</div>");else return[e("div",{class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},[e(N,{name:"broken_image",size:"50px"})])]}),_:1},k,y)),f("</div>")):f("<!---->"),f(`<div class="col" data-v-7cd3147a${y}>`),f(o(Se,null,{default:l(($,z,I,X)=>{if(z)z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Название");else return[i("Название")]}),_:1},E,H)),O(o(s,{caption:"",class:"text-body1"},{default:l((de,V,te,ae)=>{if(V)V(`${J(n.value.name)}`);else return[i(c(n.value.name),1)]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]}),_:1},I,X)),n.value.slug?z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Slug");else return[i("Slug")]}),_:1},E,H)),O(o(s,{caption:"",class:"text-body1"},{default:l((de,V,te,ae)=>{if(V)V(`${J(n.value.slug)}`);else return[i(c(n.value.slug),1)]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]}),_:1},I,X)):z("<!---->"),n.value.description?z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Описание");else return[i("Описание")]}),_:1},E,H)),O(o(s,{caption:"",class:"text-body1"},{default:l((de,V,te,ae)=>{if(V)V(`${J(n.value.description)}`);else return[i(c(n.value.description),1)]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]}),_:1},I,X)):z("<!---->"),z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Статус публикации");else return[i("Статус публикации")]}),_:1},E,H)),O(o(s,{caption:""},{default:l((de,V,te,ae)=>{if(V)V(o(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l((pl,tl,kl,ql)=>{if(tl)tl(`${J(n.value.is_published?"Опубликован":"Не опубликован")}`);else return[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]}),_:1},te,ae));else return[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]}),_:1},I,X)),n.value.created?z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Дата создания");else return[i("Дата создания")]}),_:1},E,H)),O(o(s,{caption:"",class:"text-body1"},{default:l((de,V,te,ae)=>{if(V)V(`${J(Y(n.value.created))}`);else return[i(c(Y(n.value.created)),1)]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]}),_:1},I,X)):z("<!---->"),n.value.updated?z(o(h,null,{default:l((Pe,A,ne,se)=>{if(A)A(o(w,null,{default:l((Re,O,E,H)=>{if(O)O(o(s,{class:"text-weight-medium"},{default:l((de,V,te,ae)=>{if(V)V("Дата обновления");else return[i("Дата обновления")]}),_:1},E,H)),O(o(s,{caption:"",class:"text-body1"},{default:l((de,V,te,ae)=>{if(V)V(`${J(Y(n.value.updated))}`);else return[i(c(Y(n.value.updated)),1)]}),_:1},E,H));else return[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]}),_:1},ne,se));else return[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]}),_:1},I,X)):z("<!---->");else return[e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]),_:1}),n.value.slug?(g(),v(h,{key:0},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.description?(g(),v(h,{key:1},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]),_:1})):p("",!0),e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),n.value.created?(g(),v(h,{key:2},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.updated?(g(),v(h,{key:3},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]),_:1})):p("",!0)]}),_:1},k,y)),f("</div></div>");else return[e("div",{class:a(d).screen.xs?"column q-gutter-md":"row q-gutter-md"},[n.value.file?(g(),v("div",{key:0,class:a(d).screen.xs?"col-12":"col-12 col-md-4"},[e(re,{src:n.value.file,style:a(d).screen.xs?"max-height: 150px; border-radius: 8px":"max-height: 200px; border-radius: 8px",fit:"contain",class:"bg-grey-1"},{error:l(()=>[e("div",{class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},[e(N,{name:"broken_image",size:"50px"})])]),_:1},8,["src","style"])],2)):p("",!0),e("div",{class:"col"},[e(Se,null,{default:l(()=>[e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]),_:1}),n.value.slug?(g(),v(h,{key:0},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.description?(g(),v(h,{key:1},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]),_:1})):p("",!0),e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),n.value.created?(g(),v(h,{key:2},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.updated?(g(),v(h,{key:3},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1})])],2)]}),_:1},S,L)):x("<!---->"),x(o(_e,{align:"right",class:"q-pa-md"},{default:l((C,f,k,y)=>{if(f)f(o(u,{label:a(d).screen.xs?"":"Редактировать",color:"primary",onClick:Ue,icon:"edit",round:a(d).screen.xs},null,k,y)),f(o(u,{label:a(d).screen.xs?"":"Удалить",color:"negative",onClick:Be,icon:"delete",round:a(d).screen.xs},null,k,y));else return[e(u,{label:a(d).screen.xs?"":"Редактировать",color:"primary",onClick:Ue,icon:"edit",round:a(d).screen.xs},null,8,["label","round"]),e(u,{label:a(d).screen.xs?"":"Удалить",color:"negative",onClick:Be,icon:"delete",round:a(d).screen.xs},null,8,["label","round"])]}),_:1},S,L));else return[e(T,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали бренда"),e(De),ye(e(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]),_:1}),n.value?(g(),v(T,{key:0},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-md":"row q-gutter-md"},[n.value.file?(g(),v("div",{key:0,class:a(d).screen.xs?"col-12":"col-12 col-md-4"},[e(re,{src:n.value.file,style:a(d).screen.xs?"max-height: 150px; border-radius: 8px":"max-height: 200px; border-radius: 8px",fit:"contain",class:"bg-grey-1"},{error:l(()=>[e("div",{class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},[e(N,{name:"broken_image",size:"50px"})])]),_:1},8,["src","style"])],2)):p("",!0),e("div",{class:"col"},[e(Se,null,{default:l(()=>[e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]),_:1}),n.value.slug?(g(),v(h,{key:0},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.description?(g(),v(h,{key:1},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]),_:1})):p("",!0),e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),n.value.created?(g(),v(h,{key:2},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.updated?(g(),v(h,{key:3},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1})])],2)]),_:1})):p("",!0),e(_e,{align:"right",class:"q-pa-md"},{default:l(()=>[e(u,{label:a(d).screen.xs?"":"Редактировать",color:"primary",onClick:Ue,icon:"edit",round:a(d).screen.xs},null,8,["label","round"]),e(u,{label:a(d).screen.xs?"":"Удалить",color:"negative",onClick:Be,icon:"delete",round:a(d).screen.xs},null,8,["label","round"])]),_:1})]}),_:1},j,D));else return[e(ee,{style:a(d).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(T,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали бренда"),e(De),ye(e(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]),_:1}),n.value?(g(),v(T,{key:0},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-md":"row q-gutter-md"},[n.value.file?(g(),v("div",{key:0,class:a(d).screen.xs?"col-12":"col-12 col-md-4"},[e(re,{src:n.value.file,style:a(d).screen.xs?"max-height: 150px; border-radius: 8px":"max-height: 200px; border-radius: 8px",fit:"contain",class:"bg-grey-1"},{error:l(()=>[e("div",{class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},[e(N,{name:"broken_image",size:"50px"})])]),_:1},8,["src","style"])],2)):p("",!0),e("div",{class:"col"},[e(Se,null,{default:l(()=>[e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]),_:1}),n.value.slug?(g(),v(h,{key:0},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.description?(g(),v(h,{key:1},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]),_:1})):p("",!0),e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),n.value.created?(g(),v(h,{key:2},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.updated?(g(),v(h,{key:3},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1})])],2)]),_:1})):p("",!0),e(_e,{align:"right",class:"q-pa-md"},{default:l(()=>[e(u,{label:a(d).screen.xs?"":"Редактировать",color:"primary",onClick:Ue,icon:"edit",round:a(d).screen.xs},null,8,["label","round"]),e(u,{label:a(d).screen.xs?"":"Удалить",color:"negative",onClick:Be,icon:"delete",round:a(d).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]}),_:1},ie,P));else return[e("div",{class:"q-mb-md"},[e("div",{class:"row justify-between items-center"},[e("div",{class:"text-h5"},"Управление брендами"),e(u,{color:"primary",icon:"add",onClick:Ke,label:a(d).screen.gt.xs?"Добавить бренд":"",round:a(d).screen.xs},null,8,["label","round"])]),e(Ze,null,{default:l(()=>[F.value.length>0?(g(),v("div",{key:0,class:"q-mt-sm"},[e(ee,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(T,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},c(F.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"green",icon:"visibility",onClick:$e,loading:M.value,label:"Опубликовать"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"orange",icon:"visibility_off",onClick:ze,loading:M.value,label:"Снять с публикации"},null,8,["dense","size","loading"]),e(u,{dense:a(d).screen.xs,size:(a(d).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:Ve,loading:M.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):p("",!0)]),_:1})]),e("div",{class:"q-mb-md"},[e(le,{modelValue:qe.value,"onUpdate:modelValue":[t=>qe.value=t,Ge],placeholder:"Поиск по названию бренда...",clearable:"",outlined:"",dense:"",onClear:Je},{prepend:l(()=>[e(N,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),a(m).loading?(g(),v("div",{key:0,class:"flex flex-center q-pa-md"},[e(Ie,{color:"primary",size:"3em"})])):p("",!0),!a(m).loading&&a(d).screen.gt.xs?(g(),v("div",{key:1,class:"desktop-view"},[e(el,{title:"Бренды",rows:a(m).brands,columns:He,"row-key":"id",loading:a(m).loading,pagination:a(m).qTablePagination,"onUpdate:pagination":t=>a(m).qTablePagination=t,selected:F.value,"onUpdate:selected":t=>F.value=t,selection:"multiple",onRequest:Qe,onRowClick:Xe,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer brands-table"},{"body-cell-file":l(t=>[e(ge,{props:t},{default:l(()=>[t.row.file?(g(),v(ce,{key:0,size:"50px"},{default:l(()=>[e("img",{src:t.row.file,alt:"Brand image",style:{"max-width":"50px","max-height":"50px","object-fit":"contain"}},null,8,["src"])]),_:2},1024)):(g(),v("span",{key:1},"-"))]),_:2},1032,["props"])]),"body-cell-is_published":l(t=>[e(ge,{props:t},{default:l(()=>[e(Z,{color:t.row.is_published?"green":"red",icon:t.row.is_published?"visibility":"visibility_off","text-color":"white",dense:"",size:"md",clickable:"",onClick:G(_=>pe(t.row),["stop"])},{default:l(()=>[i(c(t.row.is_published?"Опубликован":"Не опубликован"),1)]),_:2},1032,["color","icon","onClick"])]),_:2},1032,["props"])]),"body-cell-actions":l(t=>[e(ge,{props:t,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(u,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:G(_=>ve(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"edit",onClick:G(_=>oe(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(u,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:G(_=>ue(t.row),["stop"])},{default:l(()=>[e(K,null,{default:l(()=>[i("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"no-data":l(({icon:t,message:_,filter:j})=>[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(N,{size:"2em",name:j?"filter_b_and_w":t},null,8,["name"]),e("span",null,c(_),1)])]),_:1},8,["rows","loading","pagination","onUpdate:pagination","selected","onUpdate:selected"])])):p("",!0),!a(m).loading&&a(d).screen.xs?(g(),v("div",{key:2,class:"mobile-view"},[e("div",{class:"row items-center justify-between q-mb-md"},[e("div",{class:"text-caption text-grey-7"},"Всего: "+c(a(m).totalCount),1),e("div",{class:"row q-gutter-xs"},[e(u,{flat:"",dense:"",icon:"chevron_left",onClick:a(m).goToPreviousPage,disable:!a(m).hasPrevious},null,8,["onClick","disable"]),e("span",{class:"text-caption q-px-sm"},c(a(m).currentPage)+" / "+c(a(m).totalPages),1),e(u,{flat:"",dense:"",icon:"chevron_right",onClick:a(m).goToNextPage,disable:!a(m).hasNext},null,8,["onClick","disable"])])]),e("div",{class:"q-gutter-sm"},[(g(!0),v(rl,null,fl(a(m).brands,t=>(g(),v(ll,{key:t.id,class:"brand-card","header-class":F.value.some(_=>_.id===t.id)?"bg-blue-1":""},{header:l(()=>[e("div",{class:"row items-center full-width no-wrap"},[e(Le,{"model-value":F.value.some(_=>_.id===t.id),"onUpdate:modelValue":_=>Ne(t,_),class:"q-mr-sm",onClick:G(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),t.file?(g(),v(ce,{key:0,size:"40px",class:"q-mr-md"},{default:l(()=>[e("img",{src:t.file,alt:"Brand image"},null,8,["src"])]),_:2},1024)):(g(),v(ce,{key:1,size:"40px",class:"q-mr-md bg-grey-3"},{default:l(()=>[e(N,{name:"image",color:"grey-6"})]),_:1})),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},c(t.name),1),e("div",{class:"text-caption text-grey-6"},c(t.slug),1)]),e(u,{color:t.is_published?"green":"red","text-color":"white",dense:"",size:"sm",onClick:G(_=>pe(t),["stop"]),class:"q-mr-md",icon:t.is_published?"visibility":"visibility_off",label:(t.is_published,"")},null,8,["color","onClick","icon","label"])])]),default:l(()=>[e(ee,{flat:""},{default:l(()=>[e(T,{class:"q-pt-none"},{default:l(()=>[t.description?(g(),v("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),i(" "+c(t.description),1)])):p("",!0),e("div",{class:"column q-gutter-sm"},[e(u,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:_=>ve(t),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(u,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:_=>oe(t),class:"col"},null,8,["onClick"]),e(u,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:_=>ue(t),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))]),a(m).brands.length===0?(g(),v("div",{key:0,class:"text-center q-pa-lg"},[e(N,{name:"inventory_2",size:"4em",color:"grey-4"}),e("div",{class:"text-grey-6 q-mt-sm"},"Бренды не найдены")])):p("",!0)])):p("",!0),e(Te,{modelValue:we.value,"onUpdate:modelValue":t=>we.value=t,persistent:"",maximized:a(d).screen.xs},{default:l(()=>[e(ee,{style:a(d).screen.xs?"":"min-width: 400px"},{default:l(()=>[e(T,null,{default:l(()=>[e("div",{class:"text-h6"},c(me.value?"Редактировать бренд":"Добавить бренд"),1)]),_:1}),e(T,{class:"q-pt-none"},{default:l(()=>[e(le,{modelValue:r.value.name,"onUpdate:modelValue":t=>r.value.name=t,label:"Название *",autofocus:"",rules:[t=>!!t||"Название обязательно"],"lazy-rules":""},null,8,["modelValue","onUpdate:modelValue","rules"]),e(le,{modelValue:r.value.description,"onUpdate:modelValue":t=>r.value.description=t,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"]),e(je,{modelValue:r.value.newFile,"onUpdate:modelValue":[t=>r.value.newFile=t,he],label:"Файл изображения",accept:".jpg, .jpeg, .png, .gif, .svg, .webp",clearable:""},{prepend:l(()=>[e(N,{name:"attach_file"})]),_:1},8,["modelValue","onUpdate:modelValue"]),Q.value&&!r.value.newFile?(g(),v(re,{key:0,src:Q.value,style:{"max-height":"100px","margin-top":"10px"},fit:"contain"},null,8,["src"])):p("",!0),e(Fe,{modelValue:r.value.is_published,"onUpdate:modelValue":t=>r.value.is_published=t,label:"Опубликован","left-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_e,{align:"right"},{default:l(()=>[ye(e(u,{flat:"",label:"Отмена"},null,512),[[fe]]),e(u,{flat:"",label:"Сохранить",color:"primary",onClick:Ce,loading:a(m).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"]),e(Te,{modelValue:be.value,"onUpdate:modelValue":t=>be.value=t,maximized:a(d).screen.xs},{default:l(()=>[e(ee,{style:a(d).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(T,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали бренда"),e(De),ye(e(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[fe]])]),_:1}),n.value?(g(),v(T,{key:0},{default:l(()=>[e("div",{class:a(d).screen.xs?"column q-gutter-md":"row q-gutter-md"},[n.value.file?(g(),v("div",{key:0,class:a(d).screen.xs?"col-12":"col-12 col-md-4"},[e(re,{src:n.value.file,style:a(d).screen.xs?"max-height: 150px; border-radius: 8px":"max-height: 200px; border-radius: 8px",fit:"contain",class:"bg-grey-1"},{error:l(()=>[e("div",{class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},[e(N,{name:"broken_image",size:"50px"})])]),_:1},8,["src","style"])],2)):p("",!0),e("div",{class:"col"},[e(Se,null,{default:l(()=>[e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Название")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.name),1)]),_:1})]),_:1})]),_:1}),n.value.slug?(g(),v(h,{key:0},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Slug")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.slug),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.description?(g(),v(h,{key:1},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Описание")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(n.value.description),1)]),_:1})]),_:1})]),_:1})):p("",!0),e(h,null,{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Статус публикации")]),_:1}),e(s,{caption:""},{default:l(()=>[e(Z,{color:n.value.is_published?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[i(c(n.value.is_published?"Опубликован":"Не опубликован"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),n.value.created?(g(),v(h,{key:2},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата создания")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.created)),1)]),_:1})]),_:1})]),_:1})):p("",!0),n.value.updated?(g(),v(h,{key:3},{default:l(()=>[e(w,null,{default:l(()=>[e(s,{class:"text-weight-medium"},{default:l(()=>[i("Дата обновления")]),_:1}),e(s,{caption:"",class:"text-body1"},{default:l(()=>[i(c(Y(n.value.updated)),1)]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1})])],2)]),_:1})):p("",!0),e(_e,{align:"right",class:"q-pa-md"},{default:l(()=>[e(u,{label:a(d).screen.xs?"":"Редактировать",color:"primary",onClick:Ue,icon:"edit",round:a(d).screen.xs},null,8,["label","round"]),e(u,{label:a(d).screen.xs?"":"Удалить",color:"negative",onClick:Be,icon:"delete",round:a(d).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"])]}),_:1},W))}}}),nl=Ae.setup;Ae.setup=(Ee,d)=>{const m=ml();return(m.modules||(m.modules=new Set)).add("src/pages/BrandsPage.vue"),nl?nl(Ee,d):void 0};const Pl=yl(Ae,[["__scopeId","data-v-7cd3147a"]]);export{Pl as default};
