import{defineComponent as al,ref as se,onMounted as nl,resolveComponent as O,resolveDirective as il,mergeProps as Ne,withCtx as l,unref as d,createVNode as e,toDisplayString as i,createBlock as x,createCommentVNode as q,openBlock as b,createTextVNode as t,withModifiers as ie,withDirectives as ge,Fragment as ol,renderList as dl,useSSRContext as ul}from"vue";import{ssrRenderComponent as o,ssrRenderClass as rl,ssrInterpolate as H,ssrRenderStyle as sl,ssrRenderList as cl,ssrGetDirectiveProps as Ze}from"vue/server-renderer";import{u as ml}from"./size-charts.store-BPleJOnW.js";import{u as fl}from"./product-types.store-BKFLZNQ0.js";import{useQuasar as vl,Dialog as Ie,date as _l}from"quasar";import{_ as pl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"pinia";import"../server-entry.js";import"quasar/wrappers";import"vue-router";import"axios";import"./usePagination-CZ7Hsnrr.js";const Le=al({__name:"SizeChartsPage",__ssrInlineRender:!0,setup(Me){const m=vl(),f=ml(),Re=fl(),xe=se(!1),ve=se(!1),_e=se(!1),u=se(null),ke=se(""),N=se([]),be=se(!1),qe=se([]),we=se(!1),w=se({name:"",description:"",product_type:""}),Oe=[{name:"name",required:!0,label:"Название",align:"left",field:"name",sortable:!0},{name:"description",label:"Описание",field:"description",align:"left",sortable:!1},{name:"product_type",label:"Тип товара",field:"product_type",align:"left",sortable:!1},{name:"actions",label:"Действия",field:"id",align:"right"}];async function he(k=""){we.value=!0;try{k?await Re.filterProductTypes({name:k}):await Re.fetchProductTypes(),qe.value=Re.productTypes}catch(h){console.error("Error loading product types:",h)}finally{we.value=!1}}function Ce(k,h){h(()=>{k===""?he():he(k)})}function Fe(k,h){h?N.value.some(ue=>ue.id===k.id)||N.value.push(k):N.value=N.value.filter(ue=>ue.id!==k.id)}async function Ye(k){k.pagination&&await f.handleTableRequest(k)}async function Ee(k){const h=k?String(k).trim():"";h.length>=2?await f.filterSizeCharts({name:h}):h.length===0&&await f.clearFilters()}async function He(){ke.value="",await f.clearFilters()}async function ce(k){const h=await f.fetchSizeChartById(k.id);h&&(u.value=h,ve.value=!0)}async function Qe(){_e.value=!1,w.value={name:"",description:"",product_type:""},await he(),xe.value=!0}async function oe(k){_e.value=!0;const h=await f.fetchSizeChartById(k.id);h?w.value={id:h.id,name:h.name,description:h.description||"",product_type:h.product_type.id}:w.value={id:k.id,name:k.name,description:k.description||"",product_type:k.product_type.id},await he(),xe.value=!0}async function ze(){if(!w.value.name){m.notify({type:"negative",message:"Название размерной сетки обязательно."});return}if(!w.value.product_type){m.notify({type:"negative",message:"Тип товара обязателен."});return}const k={name:w.value.name,description:w.value.description||"",product_type:w.value.product_type};let h=!1;_e.value&&w.value.id?await f.updateSizeChart(w.value.id,k)&&(h=!0):await f.createSizeChart(k)&&(h=!0),h&&(xe.value=!1)}function $e(){Ie.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить ${N.value.length} элементов?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{ll()})}async function ll(){be.value=!0;try{await f.bulkDeleteSizeCharts(N.value.map(h=>h.id))&&(N.value=[])}finally{be.value=!1}}function de(k){Ie.create({title:"Подтвердите удаление",message:`Вы уверены, что хотите удалить размерную сетку "${k.name}"?`,persistent:!0,ok:{label:"Удалить",color:"negative"},cancel:{label:"Отмена",flat:!0}}).onOk(()=>{f.deleteSizeChart(k.id).catch(h=>{m.notify({type:"negative",message:"Ошибка при удалении размерной сетки"}),console.error("Delete size chart error:",h)})})}async function Ge(k,h){const ue=k.target;if(ue.closest(".q-btn")||ue.closest("button"))return;const Te=await f.fetchSizeChartById(h.id);Te&&(u.value=Te,ve.value=!0)}async function Ve(){u.value&&(ve.value=!1,await oe(u.value))}function Ue(){u.value&&(ve.value=!1,de(u.value))}function Q(k){return _l.formatDate(k,"DD.MM.YYYY HH:mm")}return nl(async()=>{await f.fetchSizeCharts()}),(k,h,ue,Te)=>{const tl=O("q-page"),s=O("q-btn"),Ae=O("q-slide-transition"),le=O("q-card"),L=O("q-card-section"),te=O("q-input"),V=O("q-icon"),Je=O("q-spinner"),Ke=O("q-table"),me=O("q-td"),G=O("q-chip"),I=O("q-tooltip"),We=O("q-expansion-item"),Be=O("q-checkbox"),ae=O("q-avatar"),je=O("q-dialog"),Se=O("q-select"),v=O("q-item"),r=O("q-item-section"),n=O("q-item-label"),pe=O("q-card-actions"),Pe=O("q-space"),De=O("q-list"),re=il("close-popup");h(o(tl,Ne({padding:""},Te),{default:l((yl,D,ne,j)=>{if(D)D(`<div class="q-mb-md" data-v-e7c81617${j}><div class="row justify-between items-center" data-v-e7c81617${j}><div class="text-h5" data-v-e7c81617${j}>Управление размерными сетками</div>`),D(o(s,{color:"primary",icon:"add",onClick:Qe,label:d(m).screen.gt.xs?"Добавить сетку":"",round:d(m).screen.xs},null,ne,j)),D("</div>"),D(o(Ae,null,{default:l((a,_,T,M)=>{if(_)N.value.length>0?(_(`<div class="q-mt-sm" data-v-e7c81617${M}>`),_(o(le,{flat:"",bordered:"",class:"bg-blue-1"},{default:l((S,g,Y,E)=>{if(g)g(o(L,{class:"q-pa-sm"},{default:l((U,p,z,P)=>{if(p)p(`<div class="${rl(d(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between")}" data-v-e7c81617${P}><span class="text-blue-8 text-body2" data-v-e7c81617${P}>${H(N.value.length)} выбрано</span><div class="row q-gutter-xs" data-v-e7c81617${P}>`),p(o(s,{dense:d(m).screen.xs,size:(d(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:be.value,label:"Удалить"},null,z,P)),p("</div></div>");else return[e("div",{class:d(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(N.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(s,{dense:d(m).screen.xs,size:(d(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:be.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]}),_:1},Y,E));else return[e(L,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:d(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(N.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(s,{dense:d(m).screen.xs,size:(d(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:be.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]}),_:1},T,M)),_("</div>")):_("<!---->");else return[N.value.length>0?(b(),x("div",{key:0,class:"q-mt-sm"},[e(le,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(L,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:d(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(N.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(s,{dense:d(m).screen.xs,size:(d(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:be.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):q("",!0)]}),_:1},ne,j)),D(`</div><div class="q-mb-md" data-v-e7c81617${j}>`),D(o(te,{modelValue:ke.value,"onUpdate:modelValue":[a=>ke.value=a,Ee],placeholder:"Поиск по названию размерной сетки...",clearable:"",outlined:"",dense:"",onClear:He},{prepend:l((a,_,T,M)=>{if(_)_(o(V,{name:"search"},null,T,M));else return[e(V,{name:"search"})]}),_:1},ne,j)),D("</div>"),d(f).loading?(D(`<div class="flex flex-center q-pa-md" data-v-e7c81617${j}>`),D(o(Je,{color:"primary",size:"3em"},null,ne,j)),D("</div>")):D("<!---->"),!d(f).loading&&d(m).screen.gt.xs?(D(`<div class="desktop-view" data-v-e7c81617${j}>`),D(o(Ke,{title:"Размерные сетки",rows:d(f).sizeCharts,columns:Oe,"row-key":"id",loading:d(f).loading,pagination:d(f).qTablePagination,"onUpdate:pagination":a=>d(f).qTablePagination=a,selected:N.value,"onUpdate:selected":a=>N.value=a,selection:"multiple",onRequest:Ye,onRowClick:Ge,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer size-charts-table"},{"body-cell-description":l((a,_,T,M)=>{if(_)_(o(me,{props:a},{default:l((S,g,Y,E)=>{if(g)g(`<div class="text-truncate" style="${sl({"max-width":"200px"})}" data-v-e7c81617${E}>${H(a.row.description||"-")}</div>`);else return[e("div",{class:"text-truncate",style:{"max-width":"200px"}},i(a.row.description||"-"),1)]}),_:2},T,M));else return[e(me,{props:a},{default:l(()=>[e("div",{class:"text-truncate",style:{"max-width":"200px"}},i(a.row.description||"-"),1)]),_:2},1032,["props"])]}),"body-cell-product_type":l((a,_,T,M)=>{if(_)_(o(me,{props:a},{default:l((S,g,Y,E)=>{if(g)g(o(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l((U,p,z,P)=>{if(p)p(`${H(a.row.product_type.name)}`);else return[t(i(a.row.product_type.name),1)]}),_:2},Y,E));else return[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.row.product_type.name),1)]),_:2},1024)]}),_:2},T,M));else return[e(me,{props:a},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.row.product_type.name),1)]),_:2},1024)]),_:2},1032,["props"])]}),"body-cell-actions":l((a,_,T,M)=>{if(_)_(o(me,{props:a,class:"text-right"},{default:l((S,g,Y,E)=>{if(g)g(`<div class="row no-wrap q-gutter-xs justify-end" data-v-e7c81617${E}>`),g(o(s,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:U=>ce(a.row)},{default:l((U,p,z,P)=>{if(p)p(o(I,null,{default:l((c,$,A,W)=>{if($)$("Просмотр");else return[t("Просмотр")]}),_:2},z,P));else return[e(I,null,{default:l(()=>[t("Просмотр")]),_:1})]}),_:2},Y,E)),g(o(s,{flat:"",round:"",dense:"",icon:"edit",onClick:U=>oe(a.row)},{default:l((U,p,z,P)=>{if(p)p(o(I,null,{default:l((c,$,A,W)=>{if($)$("Редактировать");else return[t("Редактировать")]}),_:2},z,P));else return[e(I,null,{default:l(()=>[t("Редактировать")]),_:1})]}),_:2},Y,E)),g(o(s,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:U=>de(a.row)},{default:l((U,p,z,P)=>{if(p)p(o(I,null,{default:l((c,$,A,W)=>{if($)$("Удалить");else return[t("Удалить")]}),_:2},z,P));else return[e(I,null,{default:l(()=>[t("Удалить")]),_:1})]}),_:2},Y,E)),g("</div>");else return[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(s,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ie(U=>ce(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"edit",onClick:ie(U=>oe(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ie(U=>de(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]}),_:2},T,M));else return[e(me,{props:a,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(s,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ie(S=>ce(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"edit",onClick:ie(S=>oe(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ie(S=>de(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]}),"no-data":l(({icon:a,message:_,filter:T},M,S,g)=>{if(M)M(`<div class="full-width row flex-center text-accent q-gutter-sm" data-v-e7c81617${g}>`),M(o(V,{size:"2em",name:T?"filter_b_and_w":a},null,S,g)),M(`<span data-v-e7c81617${g}>${H(_)}</span></div>`);else return[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(V,{size:"2em",name:T?"filter_b_and_w":a},null,8,["name"]),e("span",null,i(_),1)])]}),_:1},ne,j)),D("</div>")):D("<!---->"),!d(f).loading&&d(m).screen.xs?(D(`<div class="mobile-view" data-v-e7c81617${j}><div class="row items-center justify-between q-mb-md" data-v-e7c81617${j}><div class="text-caption text-grey-7" data-v-e7c81617${j}>Всего: ${H(d(f).totalCount)}</div><div class="row q-gutter-xs" data-v-e7c81617${j}>`),D(o(s,{flat:"",dense:"",icon:"chevron_left",onClick:d(f).goToPreviousPage,disable:!d(f).hasPrevious},null,ne,j)),D(`<span class="text-caption q-px-sm" data-v-e7c81617${j}>${H(d(f).currentPage)} / ${H(d(f).totalPages)}</span>`),D(o(s,{flat:"",dense:"",icon:"chevron_right",onClick:d(f).goToNextPage,disable:!d(f).hasNext},null,ne,j)),D(`</div></div><div class="q-gutter-sm" data-v-e7c81617${j}><!--[-->`),cl(d(f).sizeCharts,a=>{D(o(We,{key:a.id,class:"size-chart-card","header-class":N.value.some(_=>_.id===a.id)?"bg-blue-1":""},{header:l((_,T,M,S)=>{if(T)T(`<div class="row items-center full-width no-wrap" data-v-e7c81617${S}>`),T(o(Be,{"model-value":N.value.some(g=>g.id===a.id),"onUpdate:modelValue":g=>Fe(a,g),class:"q-mr-sm",onClick:()=>{}},null,M,S)),T(o(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l((g,Y,E,U)=>{if(Y)Y(o(V,{name:"grid_on"},null,E,U));else return[e(V,{name:"grid_on"})]}),_:2},M,S)),T(`<div class="col-grow q-mr-md" data-v-e7c81617${S}><div class="text-weight-medium" data-v-e7c81617${S}>${H(a.name)}</div><div class="text-caption text-grey-6" data-v-e7c81617${S}>${H(a.product_type.name)}</div></div></div>`);else return[e("div",{class:"row items-center full-width no-wrap"},[e(Be,{"model-value":N.value.some(g=>g.id===a.id),"onUpdate:modelValue":g=>Fe(a,g),class:"q-mr-sm",onClick:ie(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1}),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},i(a.name),1),e("div",{class:"text-caption text-grey-6"},i(a.product_type.name),1)])])]}),default:l((_,T,M,S)=>{if(T)T(o(le,{flat:""},{default:l((g,Y,E,U)=>{if(Y)Y(o(L,{class:"q-pt-none"},{default:l((p,z,P,c)=>{if(z)a.description?z(`<div class="text-body2 q-mb-md" data-v-e7c81617${c}><strong data-v-e7c81617${c}>Описание:</strong><br data-v-e7c81617${c}> ${H(a.description)}</div>`):z("<!---->"),z(`<div class="text-body2 q-mb-md" data-v-e7c81617${c}><strong data-v-e7c81617${c}>Тип товара:</strong><br data-v-e7c81617${c}>`),z(o(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(($,A,W,ye)=>{if(A)A(`${H(a.product_type.name)}`);else return[t(i(a.product_type.name),1)]}),_:2},P,c)),z(`</div><div class="column q-gutter-sm" data-v-e7c81617${c}>`),z(o(s,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:$=>ce(a),class:"full-width"},null,P,c)),z(`<div class="row q-gutter-sm" data-v-e7c81617${c}>`),z(o(s,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:$=>oe(a),class:"col"},null,P,c)),z(o(s,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:$=>de(a),class:"col"},null,P,c)),z("</div></div>");else return[a.description?(b(),x("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),t(" "+i(a.description),1)])):q("",!0),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Тип товара:"),e("br"),e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.product_type.name),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(s,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:$=>ce(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(s,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:$=>oe(a),class:"col"},null,8,["onClick"]),e(s,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:$=>de(a),class:"col"},null,8,["onClick"])])])]}),_:2},E,U));else return[e(L,{class:"q-pt-none"},{default:l(()=>[a.description?(b(),x("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),t(" "+i(a.description),1)])):q("",!0),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Тип товара:"),e("br"),e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.product_type.name),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(s,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:p=>ce(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(s,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:p=>oe(a),class:"col"},null,8,["onClick"]),e(s,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:p=>de(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]}),_:2},M,S));else return[e(le,{flat:""},{default:l(()=>[e(L,{class:"q-pt-none"},{default:l(()=>[a.description?(b(),x("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),t(" "+i(a.description),1)])):q("",!0),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Тип товара:"),e("br"),e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.product_type.name),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(s,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:g=>ce(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(s,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:g=>oe(a),class:"col"},null,8,["onClick"]),e(s,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:g=>de(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]}),_:2},ne,j))}),D("<!--]--></div>"),d(f).sizeCharts.length===0?(D(`<div class="text-center q-pa-lg" data-v-e7c81617${j}>`),D(o(V,{name:"grid_on",size:"4em",color:"grey-4"},null,ne,j)),D(`<div class="text-grey-6 q-mt-sm" data-v-e7c81617${j}>Размерные сетки не найдены</div></div>`)):D("<!---->"),D("</div>")):D("<!---->"),D(o(je,{modelValue:xe.value,"onUpdate:modelValue":a=>xe.value=a,persistent:"",maximized:d(m).screen.xs},{default:l((a,_,T,M)=>{if(_)_(o(le,{style:d(m).screen.xs?"":"min-width: 500px"},{default:l((S,g,Y,E)=>{if(g)g(o(L,null,{default:l((U,p,z,P)=>{if(p)p(`<div class="text-h6" data-v-e7c81617${P}>${H(_e.value?"Редактировать размерную сетку":"Добавить размерную сетку")}</div>`);else return[e("div",{class:"text-h6"},i(_e.value?"Редактировать размерную сетку":"Добавить размерную сетку"),1)]}),_:1},Y,E)),g(o(L,{class:"q-pt-none"},{default:l((U,p,z,P)=>{if(p)p(o(te,{modelValue:w.value.name,"onUpdate:modelValue":c=>w.value.name=c,label:"Название *",autofocus:"",rules:[c=>!!c||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,z,P)),p(o(Se,{modelValue:w.value.product_type,"onUpdate:modelValue":c=>w.value.product_type=c,options:qe.value,"option-label":"name","option-value":"id",label:"Тип товара *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:we.value,onFilter:Ce,rules:[c=>!!c||"Тип товара обязателен"],"lazy-rules":"",class:"q-mb-md"},{prepend:l((c,$,A,W)=>{if($)$(o(V,{name:"category"},null,A,W));else return[e(V,{name:"category"})]}),"no-option":l((c,$,A,W)=>{if($)$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,{class:"text-grey"},{default:l((fe,C,F,B)=>{if(C)C(" Типы товаров не найдены ");else return[t(" Типы товаров не найдены ")]}),_:1},J,K));else return[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]}),_:1},A,W));else return[e(v,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]),_:1})]}),option:l((c,$,A,W)=>{if($)$(o(v,c.itemProps,{default:l((ye,R,J,K)=>{if(R)R(o(r,{avatar:""},{default:l((fe,C,F,B)=>{if(C)C(o(V,{name:"category",color:"primary"},null,F,B));else return[e(V,{name:"category",color:"primary"})]}),_:2},J,K)),R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,null,{default:l((ee,y,X,Z)=>{if(y)y(`${H(c.opt.name)}`);else return[t(i(c.opt.name),1)]}),_:2},F,B)),c.opt.description?C(o(n,{caption:""},{default:l((ee,y,X,Z)=>{if(y)y(`${H(c.opt.description)}`);else return[t(i(c.opt.description),1)]}),_:2},F,B)):C("<!---->");else return[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):q("",!0)]}),_:2},J,K));else return[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]}),_:2},A,W));else return[e(v,c.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1040)]}),_:1},z,P)),p(o(te,{modelValue:w.value.description,"onUpdate:modelValue":c=>w.value.description=c,label:"Описание",type:"textarea",autogrow:""},null,z,P));else return[e(te,{modelValue:w.value.name,"onUpdate:modelValue":c=>w.value.name=c,label:"Название *",autofocus:"",rules:[c=>!!c||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Se,{modelValue:w.value.product_type,"onUpdate:modelValue":c=>w.value.product_type=c,options:qe.value,"option-label":"name","option-value":"id",label:"Тип товара *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:we.value,onFilter:Ce,rules:[c=>!!c||"Тип товара обязателен"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(V,{name:"category"})]),"no-option":l(()=>[e(v,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]),_:1})]),option:l(c=>[e(v,c.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(c.opt.name),1)]),_:2},1024),c.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(c.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"]),e(te,{modelValue:w.value.description,"onUpdate:modelValue":c=>w.value.description=c,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"])]}),_:1},Y,E)),g(o(pe,{align:"right"},{default:l((U,p,z,P)=>{if(p)p(o(s,Ne({flat:"",label:"Отмена"},Ze(k,re)),null,z,P)),p(o(s,{flat:"",label:"Сохранить",color:"primary",onClick:ze,loading:d(f).loading},null,z,P));else return[ge(e(s,{flat:"",label:"Отмена"},null,512),[[re]]),e(s,{flat:"",label:"Сохранить",color:"primary",onClick:ze,loading:d(f).loading},null,8,["loading"])]}),_:1},Y,E));else return[e(L,null,{default:l(()=>[e("div",{class:"text-h6"},i(_e.value?"Редактировать размерную сетку":"Добавить размерную сетку"),1)]),_:1}),e(L,{class:"q-pt-none"},{default:l(()=>[e(te,{modelValue:w.value.name,"onUpdate:modelValue":U=>w.value.name=U,label:"Название *",autofocus:"",rules:[U=>!!U||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Se,{modelValue:w.value.product_type,"onUpdate:modelValue":U=>w.value.product_type=U,options:qe.value,"option-label":"name","option-value":"id",label:"Тип товара *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:we.value,onFilter:Ce,rules:[U=>!!U||"Тип товара обязателен"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(V,{name:"category"})]),"no-option":l(()=>[e(v,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]),_:1})]),option:l(U=>[e(v,U.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(U.opt.name),1)]),_:2},1024),U.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(U.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"]),e(te,{modelValue:w.value.description,"onUpdate:modelValue":U=>w.value.description=U,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(pe,{align:"right"},{default:l(()=>[ge(e(s,{flat:"",label:"Отмена"},null,512),[[re]]),e(s,{flat:"",label:"Сохранить",color:"primary",onClick:ze,loading:d(f).loading},null,8,["loading"])]),_:1})]}),_:1},T,M));else return[e(le,{style:d(m).screen.xs?"":"min-width: 500px"},{default:l(()=>[e(L,null,{default:l(()=>[e("div",{class:"text-h6"},i(_e.value?"Редактировать размерную сетку":"Добавить размерную сетку"),1)]),_:1}),e(L,{class:"q-pt-none"},{default:l(()=>[e(te,{modelValue:w.value.name,"onUpdate:modelValue":S=>w.value.name=S,label:"Название *",autofocus:"",rules:[S=>!!S||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Se,{modelValue:w.value.product_type,"onUpdate:modelValue":S=>w.value.product_type=S,options:qe.value,"option-label":"name","option-value":"id",label:"Тип товара *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:we.value,onFilter:Ce,rules:[S=>!!S||"Тип товара обязателен"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(V,{name:"category"})]),"no-option":l(()=>[e(v,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]),_:1})]),option:l(S=>[e(v,S.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(S.opt.name),1)]),_:2},1024),S.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(S.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"]),e(te,{modelValue:w.value.description,"onUpdate:modelValue":S=>w.value.description=S,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(pe,{align:"right"},{default:l(()=>[ge(e(s,{flat:"",label:"Отмена"},null,512),[[re]]),e(s,{flat:"",label:"Сохранить",color:"primary",onClick:ze,loading:d(f).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]}),_:1},ne,j)),D(o(je,{modelValue:ve.value,"onUpdate:modelValue":a=>ve.value=a,maximized:d(m).screen.xs},{default:l((a,_,T,M)=>{if(_)_(o(le,{style:d(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l((S,g,Y,E)=>{if(g)g(o(L,{class:"row items-center q-pb-none"},{default:l((U,p,z,P)=>{if(p)p(`<div class="text-h6" data-v-e7c81617${P}>Детали размерной сетки</div>`),p(o(Pe,null,null,z,P)),p(o(s,Ne({icon:"close",flat:"",round:"",dense:""},Ze(k,re)),null,z,P));else return[e("div",{class:"text-h6"},"Детали размерной сетки"),e(Pe),ge(e(s,{icon:"close",flat:"",round:"",dense:""},null,512),[[re]])]}),_:1},Y,E)),u.value?g(o(L,null,{default:l((U,p,z,P)=>{if(p)p(o(De,null,{default:l((c,$,A,W)=>{if($)$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,{avatar:""},{default:l((fe,C,F,B)=>{if(C)C(o(ae,{color:"primary","text-color":"white"},{default:l((ee,y,X,Z)=>{if(y)y(o(V,{name:"grid_on"},null,X,Z));else return[e(V,{name:"grid_on"})]}),_:1},F,B));else return[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]}),_:1},J,K)),R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Название");else return[t("Название")]}),_:1},F,B)),C(o(n,{caption:"",class:"text-body1"},{default:l((ee,y,X,Z)=>{if(y)y(`${H(u.value.name)}`);else return[t(i(u.value.name),1)]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]}),_:1},J,K));else return[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]}),_:1},A,W)),$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Тип товара");else return[t("Тип товара")]}),_:1},F,B)),C(o(n,{caption:""},{default:l((ee,y,X,Z)=>{if(y)y(o(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l((gl,Xe,xl,bl)=>{if(Xe)Xe(`${H(u.value.product_type.name)}`);else return[t(i(u.value.product_type.name),1)]}),_:1},X,Z));else return[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]}),_:1},J,K));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]}),_:1},A,W)),u.value.description?$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Описание");else return[t("Описание")]}),_:1},F,B)),C(o(n,{caption:"",class:"text-body1"},{default:l((ee,y,X,Z)=>{if(y)y(`${H(u.value.description)}`);else return[t(i(u.value.description),1)]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]}),_:1},J,K));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]}),_:1},A,W)):$("<!---->"),u.value.creator?$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Создатель");else return[t("Создатель")]}),_:1},F,B)),C(o(n,{caption:"",class:"text-body1"},{default:l((ee,y,X,Z)=>{if(y)y(`${H(u.value.creator.email)}`);else return[t(i(u.value.creator.email),1)]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]}),_:1},J,K));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]}),_:1},A,W)):$("<!---->"),u.value.created?$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Дата создания");else return[t("Дата создания")]}),_:1},F,B)),C(o(n,{caption:"",class:"text-body1"},{default:l((ee,y,X,Z)=>{if(y)y(`${H(Q(u.value.created))}`);else return[t(i(Q(u.value.created)),1)]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]}),_:1},J,K));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]}),_:1},A,W)):$("<!---->"),u.value.updated?$(o(v,null,{default:l((ye,R,J,K)=>{if(R)R(o(r,null,{default:l((fe,C,F,B)=>{if(C)C(o(n,{class:"text-weight-medium"},{default:l((ee,y,X,Z)=>{if(y)y("Дата обновления");else return[t("Дата обновления")]}),_:1},F,B)),C(o(n,{caption:"",class:"text-body1"},{default:l((ee,y,X,Z)=>{if(y)y(`${H(Q(u.value.updated))}`);else return[t(i(Q(u.value.updated)),1)]}),_:1},F,B));else return[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]}),_:1},J,K));else return[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]}),_:1},A,W)):$("<!---->");else return[e(v,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),u.value.description?(b(),x(v,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.creator?(b(),x(v,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.created?(b(),x(v,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.updated?(b(),x(v,{key:3},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]),_:1})):q("",!0)]}),_:1},z,P));else return[e(De,null,{default:l(()=>[e(v,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),u.value.description?(b(),x(v,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.creator?(b(),x(v,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.created?(b(),x(v,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.updated?(b(),x(v,{key:3},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})]}),_:1},Y,E)):g("<!---->"),g(o(pe,{align:"right",class:"q-pa-md"},{default:l((U,p,z,P)=>{if(p)p(o(s,{label:d(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ve,icon:"edit",round:d(m).screen.xs},null,z,P)),p(o(s,{label:d(m).screen.xs?"":"Удалить",color:"negative",onClick:Ue,icon:"delete",round:d(m).screen.xs},null,z,P));else return[e(s,{label:d(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ve,icon:"edit",round:d(m).screen.xs},null,8,["label","round"]),e(s,{label:d(m).screen.xs?"":"Удалить",color:"negative",onClick:Ue,icon:"delete",round:d(m).screen.xs},null,8,["label","round"])]}),_:1},Y,E));else return[e(L,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размерной сетки"),e(Pe),ge(e(s,{icon:"close",flat:"",round:"",dense:""},null,512),[[re]])]),_:1}),u.value?(b(),x(L,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(v,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),u.value.description?(b(),x(v,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.creator?(b(),x(v,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.created?(b(),x(v,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.updated?(b(),x(v,{key:3},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})]),_:1})):q("",!0),e(pe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(s,{label:d(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ve,icon:"edit",round:d(m).screen.xs},null,8,["label","round"]),e(s,{label:d(m).screen.xs?"":"Удалить",color:"negative",onClick:Ue,icon:"delete",round:d(m).screen.xs},null,8,["label","round"])]),_:1})]}),_:1},T,M));else return[e(le,{style:d(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(L,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размерной сетки"),e(Pe),ge(e(s,{icon:"close",flat:"",round:"",dense:""},null,512),[[re]])]),_:1}),u.value?(b(),x(L,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(v,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),u.value.description?(b(),x(v,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.creator?(b(),x(v,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.created?(b(),x(v,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.updated?(b(),x(v,{key:3},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})]),_:1})):q("",!0),e(pe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(s,{label:d(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ve,icon:"edit",round:d(m).screen.xs},null,8,["label","round"]),e(s,{label:d(m).screen.xs?"":"Удалить",color:"negative",onClick:Ue,icon:"delete",round:d(m).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]}),_:1},ne,j));else return[e("div",{class:"q-mb-md"},[e("div",{class:"row justify-between items-center"},[e("div",{class:"text-h5"},"Управление размерными сетками"),e(s,{color:"primary",icon:"add",onClick:Qe,label:d(m).screen.gt.xs?"Добавить сетку":"",round:d(m).screen.xs},null,8,["label","round"])]),e(Ae,null,{default:l(()=>[N.value.length>0?(b(),x("div",{key:0,class:"q-mt-sm"},[e(le,{flat:"",bordered:"",class:"bg-blue-1"},{default:l(()=>[e(L,{class:"q-pa-sm"},{default:l(()=>[e("div",{class:d(m).screen.xs?"column q-gutter-y-sm":"row items-center justify-between"},[e("span",{class:"text-blue-8 text-body2"},i(N.value.length)+" выбрано",1),e("div",{class:"row q-gutter-xs"},[e(s,{dense:d(m).screen.xs,size:(d(m).screen.xs,"md"),flat:"",color:"negative",icon:"delete",onClick:$e,loading:be.value,label:"Удалить"},null,8,["dense","size","loading"])])],2)]),_:1})]),_:1})])):q("",!0)]),_:1})]),e("div",{class:"q-mb-md"},[e(te,{modelValue:ke.value,"onUpdate:modelValue":[a=>ke.value=a,Ee],placeholder:"Поиск по названию размерной сетки...",clearable:"",outlined:"",dense:"",onClear:He},{prepend:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),d(f).loading?(b(),x("div",{key:0,class:"flex flex-center q-pa-md"},[e(Je,{color:"primary",size:"3em"})])):q("",!0),!d(f).loading&&d(m).screen.gt.xs?(b(),x("div",{key:1,class:"desktop-view"},[e(Ke,{title:"Размерные сетки",rows:d(f).sizeCharts,columns:Oe,"row-key":"id",loading:d(f).loading,pagination:d(f).qTablePagination,"onUpdate:pagination":a=>d(f).qTablePagination=a,selected:N.value,"onUpdate:selected":a=>N.value=a,selection:"multiple",onRequest:Ye,onRowClick:Ge,"binary-state-sort":"","rows-per-page-options":[5,10,20,30,50],class:"cursor-pointer size-charts-table"},{"body-cell-description":l(a=>[e(me,{props:a},{default:l(()=>[e("div",{class:"text-truncate",style:{"max-width":"200px"}},i(a.row.description||"-"),1)]),_:2},1032,["props"])]),"body-cell-product_type":l(a=>[e(me,{props:a},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.row.product_type.name),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":l(a=>[e(me,{props:a,class:"text-right"},{default:l(()=>[e("div",{class:"row no-wrap q-gutter-xs justify-end"},[e(s,{flat:"",round:"",dense:"",icon:"visibility",color:"primary",onClick:ie(_=>ce(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Просмотр")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"edit",onClick:ie(_=>oe(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Редактировать")]),_:1})]),_:2},1032,["onClick"]),e(s,{flat:"",round:"",dense:"",icon:"delete",color:"negative",onClick:ie(_=>de(a.row),["stop"])},{default:l(()=>[e(I,null,{default:l(()=>[t("Удалить")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"no-data":l(({icon:a,message:_,filter:T})=>[e("div",{class:"full-width row flex-center text-accent q-gutter-sm"},[e(V,{size:"2em",name:T?"filter_b_and_w":a},null,8,["name"]),e("span",null,i(_),1)])]),_:1},8,["rows","loading","pagination","onUpdate:pagination","selected","onUpdate:selected"])])):q("",!0),!d(f).loading&&d(m).screen.xs?(b(),x("div",{key:2,class:"mobile-view"},[e("div",{class:"row items-center justify-between q-mb-md"},[e("div",{class:"text-caption text-grey-7"},"Всего: "+i(d(f).totalCount),1),e("div",{class:"row q-gutter-xs"},[e(s,{flat:"",dense:"",icon:"chevron_left",onClick:d(f).goToPreviousPage,disable:!d(f).hasPrevious},null,8,["onClick","disable"]),e("span",{class:"text-caption q-px-sm"},i(d(f).currentPage)+" / "+i(d(f).totalPages),1),e(s,{flat:"",dense:"",icon:"chevron_right",onClick:d(f).goToNextPage,disable:!d(f).hasNext},null,8,["onClick","disable"])])]),e("div",{class:"q-gutter-sm"},[(b(!0),x(ol,null,dl(d(f).sizeCharts,a=>(b(),x(We,{key:a.id,class:"size-chart-card","header-class":N.value.some(_=>_.id===a.id)?"bg-blue-1":""},{header:l(()=>[e("div",{class:"row items-center full-width no-wrap"},[e(Be,{"model-value":N.value.some(_=>_.id===a.id),"onUpdate:modelValue":_=>Fe(a,_),class:"q-mr-sm",onClick:ie(()=>{},["stop"])},null,8,["model-value","onUpdate:modelValue","onClick"]),e(ae,{size:"40px",class:"q-mr-md bg-primary text-white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1}),e("div",{class:"col-grow q-mr-md"},[e("div",{class:"text-weight-medium"},i(a.name),1),e("div",{class:"text-caption text-grey-6"},i(a.product_type.name),1)])])]),default:l(()=>[e(le,{flat:""},{default:l(()=>[e(L,{class:"q-pt-none"},{default:l(()=>[a.description?(b(),x("div",{key:0,class:"text-body2 q-mb-md"},[e("strong",null,"Описание:"),e("br"),t(" "+i(a.description),1)])):q("",!0),e("div",{class:"text-body2 q-mb-md"},[e("strong",null,"Тип товара:"),e("br"),e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(a.product_type.name),1)]),_:2},1024)]),e("div",{class:"column q-gutter-sm"},[e(s,{unelevated:"",color:"primary",icon:"visibility",label:"Просмотреть детали",onClick:_=>ce(a),class:"full-width"},null,8,["onClick"]),e("div",{class:"row q-gutter-sm"},[e(s,{outline:"",color:"warning",icon:"edit",label:"Изменить",onClick:_=>oe(a),class:"col"},null,8,["onClick"]),e(s,{outline:"",color:"negative",icon:"delete",label:"Удалить",onClick:_=>de(a),class:"col"},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))]),d(f).sizeCharts.length===0?(b(),x("div",{key:0,class:"text-center q-pa-lg"},[e(V,{name:"grid_on",size:"4em",color:"grey-4"}),e("div",{class:"text-grey-6 q-mt-sm"},"Размерные сетки не найдены")])):q("",!0)])):q("",!0),e(je,{modelValue:xe.value,"onUpdate:modelValue":a=>xe.value=a,persistent:"",maximized:d(m).screen.xs},{default:l(()=>[e(le,{style:d(m).screen.xs?"":"min-width: 500px"},{default:l(()=>[e(L,null,{default:l(()=>[e("div",{class:"text-h6"},i(_e.value?"Редактировать размерную сетку":"Добавить размерную сетку"),1)]),_:1}),e(L,{class:"q-pt-none"},{default:l(()=>[e(te,{modelValue:w.value.name,"onUpdate:modelValue":a=>w.value.name=a,label:"Название *",autofocus:"",rules:[a=>!!a||"Название обязательно"],"lazy-rules":"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules"]),e(Se,{modelValue:w.value.product_type,"onUpdate:modelValue":a=>w.value.product_type=a,options:qe.value,"option-label":"name","option-value":"id",label:"Тип товара *","emit-value":"","map-options":"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"300",loading:we.value,onFilter:Ce,rules:[a=>!!a||"Тип товара обязателен"],"lazy-rules":"",class:"q-mb-md"},{prepend:l(()=>[e(V,{name:"category"})]),"no-option":l(()=>[e(v,null,{default:l(()=>[e(r,{class:"text-grey"},{default:l(()=>[t(" Типы товаров не найдены ")]),_:1})]),_:1})]),option:l(a=>[e(v,a.itemProps,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(V,{name:"category",color:"primary"})]),_:1}),e(r,null,{default:l(()=>[e(n,null,{default:l(()=>[t(i(a.opt.name),1)]),_:2},1024),a.opt.description?(b(),x(n,{key:0,caption:""},{default:l(()=>[t(i(a.opt.description),1)]),_:2},1024)):q("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules"]),e(te,{modelValue:w.value.description,"onUpdate:modelValue":a=>w.value.description=a,label:"Описание",type:"textarea",autogrow:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(pe,{align:"right"},{default:l(()=>[ge(e(s,{flat:"",label:"Отмена"},null,512),[[re]]),e(s,{flat:"",label:"Сохранить",color:"primary",onClick:ze,loading:d(f).loading},null,8,["loading"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"]),e(je,{modelValue:ve.value,"onUpdate:modelValue":a=>ve.value=a,maximized:d(m).screen.xs},{default:l(()=>[e(le,{style:d(m).screen.xs?"":"min-width: 500px; max-width: 600px"},{default:l(()=>[e(L,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",{class:"text-h6"},"Детали размерной сетки"),e(Pe),ge(e(s,{icon:"close",flat:"",round:"",dense:""},null,512),[[re]])]),_:1}),u.value?(b(),x(L,{key:0},{default:l(()=>[e(De,null,{default:l(()=>[e(v,null,{default:l(()=>[e(r,{avatar:""},{default:l(()=>[e(ae,{color:"primary","text-color":"white"},{default:l(()=>[e(V,{name:"grid_on"})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Название")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Тип товара")]),_:1}),e(n,{caption:""},{default:l(()=>[e(G,{color:"primary","text-color":"white",size:"sm",icon:"category"},{default:l(()=>[t(i(u.value.product_type.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),u.value.description?(b(),x(v,{key:0},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Описание")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.description),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.creator?(b(),x(v,{key:1},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Создатель")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(u.value.creator.email),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.created?(b(),x(v,{key:2},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата создания")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.created)),1)]),_:1})]),_:1})]),_:1})):q("",!0),u.value.updated?(b(),x(v,{key:3},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{class:"text-weight-medium"},{default:l(()=>[t("Дата обновления")]),_:1}),e(n,{caption:"",class:"text-body1"},{default:l(()=>[t(i(Q(u.value.updated)),1)]),_:1})]),_:1})]),_:1})):q("",!0)]),_:1})]),_:1})):q("",!0),e(pe,{align:"right",class:"q-pa-md"},{default:l(()=>[e(s,{label:d(m).screen.xs?"":"Редактировать",color:"primary",onClick:Ve,icon:"edit",round:d(m).screen.xs},null,8,["label","round"]),e(s,{label:d(m).screen.xs?"":"Удалить",color:"negative",onClick:Ue,icon:"delete",round:d(m).screen.xs},null,8,["label","round"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","onUpdate:modelValue","maximized"])]}),_:1},ue))}}}),el=Le.setup;Le.setup=(Me,m)=>{const f=ul();return(f.modules||(f.modules=new Set)).add("src/pages/SizeChartsPage.vue"),el?el(Me,m):void 0};const Tl=pl(Le,[["__scopeId","data-v-e7c81617"]]);export{Tl as default};
